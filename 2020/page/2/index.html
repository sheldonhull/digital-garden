
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../2021/">
      
      
        <link rel="next" href="../../../2019/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.26">
    
    
      
        <title>2020 - digital garden</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/gist.css">
    
      <link rel="stylesheet" href="../../../stylesheets/code-highlighting.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2020" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="digital garden" class="md-header__button md-logo" aria-label="digital garden" data-md-component="logo">
      
  <img src="../../../assets/images/sheldon-avatar.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            digital garden
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2020
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sheldonhull/digital-garden" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../welcome/" class="md-tabs__link">
        
  
    
  
  home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  posts

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/tooling/task/" class="md-tabs__link">
          
  
    
  
  notes

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../2023/" class="md-tabs__link">
          
  
    
  
  archive

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="digital garden" class="md-nav__button md-logo" aria-label="digital garden" data-md-component="logo">
      
  <img src="../../../assets/images/sheldon-avatar.jpg" alt="logo">

    </a>
    digital garden
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sheldonhull/digital-garden" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    posts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Development
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/tooling/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tooling
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            Tooling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/precommit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    precommit
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/direnv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    direnv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/aqua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aqua
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/shell/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Shell
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            Shell
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/shell/shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shell
  </span>
  

      </a>
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/powershell/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Powershell
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            Powershell
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/powershell/powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    powershell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/powershell/pester/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pester
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/powershell/dbatools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dbatools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/observability/observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    observability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/level-up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Level-Up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/kubernetes/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/go/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Go
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_8" id="__nav_3_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_8">
            <span class="md-nav__icon md-icon"></span>
            Go
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/vscode-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSCode Configuration for Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/using-go-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Go Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/pre-commit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-Commit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/mage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Logging
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/goroutines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    goroutines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/effective-go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Effective Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/dagger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dagger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/code-coverage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Coverage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/front-end/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Front end
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_9" id="__nav_3_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_9">
            <span class="md-nav__icon md-icon"></span>
            Front end
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/front-end/yarn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yarn
  </span>
  

      </a>
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/build-release-engineering/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Build release engineering
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_10" id="__nav_3_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_10">
            <span class="md-nav__icon md-icon"></span>
            Build release engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/build-release-engineering/renovate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    renovate
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/build-release-engineering/azure-pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Pipelines
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/aws/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Aws
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_11" id="__nav_3_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_11">
            <span class="md-nav__icon md-icon"></span>
            Aws
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/aws/s5cmd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syncing Files Using S5Cmd
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/aws/aws-powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS PowerShell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/aws/aws-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aws-cli
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/ai/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Ai
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_12" id="__nav_3_1_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_12">
            <span class="md-nav__icon md-icon"></span>
            Ai
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ai/copilot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    copilot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ai/chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Career
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Career
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/management-dynamics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Management Dynamics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/eponymous-laws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eponymous Laws
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/engineering-culture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engineering Culture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    2020
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-17" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 17
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-16" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 16
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-results-in-go" class="md-nav__link">
    <span class="md-ellipsis">
      Filtering Results in Go
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-15" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 15
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-14" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 14
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-14" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 14
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consider-the-benefits-of-powershell-for-developer-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Consider the Benefits of Powershell for Developer Workflows
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improving-local-development-workflow-with-go-task" class="md-nav__link">
    <span class="md-ellipsis">
      Improving Local Development Workflow With Go Task
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-resolve-provider-aws-with-terraform-version-0134" class="md-nav__link">
    <span class="md-ellipsis">
      Unable To Resolve Provider AWS with Terraform Version 0.13.4
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-to-using-influxdb-on-macos" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start to Using Influxdb on Macos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2014
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2013
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-17" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 17
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-16" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 16
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-results-in-go" class="md-nav__link">
    <span class="md-ellipsis">
      Filtering Results in Go
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-15" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 15
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-14" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 14
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#go-r1-day-14" class="md-nav__link">
    <span class="md-ellipsis">
      Go R1 Day 14
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consider-the-benefits-of-powershell-for-developer-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Consider the Benefits of Powershell for Developer Workflows
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improving-local-development-workflow-with-go-task" class="md-nav__link">
    <span class="md-ellipsis">
      Improving Local Development Workflow With Go Task
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unable-to-resolve-provider-aws-with-terraform-version-0134" class="md-nav__link">
    <span class="md-ellipsis">
      Unable To Resolve Provider AWS with Terraform Version 0.13.4
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-to-using-influxdb-on-macos" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start to Using Influxdb on Macos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="2020">2020<a class="headerlink" href="#2020" title="Permanent link">ðŸ”—</a></h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-19 00:00:00">November 19, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="go-r1-day-17"><a class="toclink" href="../../../go-r1-day-17/">Go R1 Day 17</a></h2>
<h3 id="day-17-of-100"><a class="toclink" href="../../../go-r1-day-17/#day-17-of-100">Day 17 of 100</a></h3>
<h3 id="progress"><a class="toclink" href="../../../go-r1-day-17/#progress">progress</a></h3>
<ul>
<li>reviewed adding excel conversion to cli</li>
<li>shelved this after reviewing implementation requirements</li>
<li>this is one of those cases where PowerShell makes much more sense for adhoc work as converts <code>pscustomobject</code> (similar to struct) via pipeline automatically to excel sheet.</li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-18 00:00:00">November 18, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="go-r1-day-16"><a class="toclink" href="../../../go-r1-day-16/">Go R1 Day 16</a></h2>
<h3 id="day-16-of-100"><a class="toclink" href="../../../go-r1-day-16/#day-16-of-100">Day 16 of 100</a></h3>
<h3 id="progress"><a class="toclink" href="../../../go-r1-day-16/#progress">progress</a></h3>
<ul>
<li>refactored AWS SDK call to export a named file using flags.</li>
<li>Iterated through regions so cli call aggregated all results from all regions into single JSON.</li>
<li>Working with v1 makes me want v2 so much more.
The level of pointers required is ridiculous.
At one point I had something like <code>&amp;*ec2</code> due to the SDK requirements.
Having to write a filter with: <code>Filters: { Name: aws.String("foo")}</code> is so clunky.
I believe in v2 this is greatly simplified, and the code is much cleaner.</li>
</ul>
<h3 id="links"><a class="toclink" href="../../../go-r1-day-16/#links">links</a></h3>
<ul>
<li><a href="https://pkg.go.dev/github.com/aws/aws-sdk-go@v1.35.31/service/ec2#DescribeRegionsInput.GoString">DescribeRegionsInput</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-17 00:00:00">November 17, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="filtering-results-in-go"><a class="toclink" href="../../../filtering-results-in-go/">Filtering Results in Go</a></h2>
<h3 id="where-filtering"><a class="toclink" href="../../../filtering-results-in-go/#where-filtering">Where Filtering</a></h3>
<p>I explored a bit on filtering objects with Go for the AWS SDK v1.</p>
<p>Coming from PowerShell, I'm used to a lot of one-liners that do a lot of magic behind the scenes, so Go is both refreshing in it's clarity, and a bit verbose at times since the language features are more sparse.</p>
<p>In PowerShell, you can filter results with a variety of methods, including examples like below (but not limited to)</p>
<ul>
<li><code>$collection.Where{$_.Value -eq 'foo'}</code></li>
<li><code>$collection | Where-Object {$_.Value -eq 'foo'}</code></li>
<li><code>$collection | Where-Object Value -eq 'foo'</code></li>
</ul>
<p>When exploring the an unmarshalled result in Go, I found it a bit verbose compared to what I was used to, and wondered if there are no "Where" clause helper libraries that cut down on this verbosity, and also still considered idiomatic (Go's favorite word ðŸ˜ƒ).</p>
<h3 id="scenario"><a class="toclink" href="../../../filtering-results-in-go/#scenario">Scenario</a></h3>
<p>Let's get all the EC2 Image results for a region and match these with all the EC2 instances running.
Filter down the results of this to only the ami matching what the EC2 instance is using.</p>
<p>In PowerShell this might look like <code>$AmiId = $Images.Where{$_.ImageId -eq $Search}.ImageId</code>.</p>
<p>As a newer gopher, this is what I ended up doing,and wondering at my solution.
This is without sorting optimization.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nx">amiCreateDate</span><span class="p">,</span><span class="w"> </span><span class="nx">ImageName</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">GetMatchingImage</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">Images</span><span class="p">,</span><span class="w"> </span><span class="nx">inst</span><span class="p">.</span><span class="nx">ImageId</span><span class="p">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nx">log</span><span class="p">.</span><span class="nx">Err</span><span class="p">(</span><span class="nx">err</span><span class="p">).</span><span class="nx">Msg</span><span class="p">(</span><span class="s">&quot;failure to find ami&quot;</span><span class="p">)</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">}</span>
</code></pre></div>
<p>Then I created a search function to iterate through the images for a match.
Yes, there was a lot of logging as I worked through this.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// GetMatchingImage will search the ami results for a matching id</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetMatchingImage</span><span class="p">(</span><span class="nx">imgs</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">ec2</span><span class="p">.</span><span class="nx">Image</span><span class="p">,</span><span class="w"> </span><span class="nx">search</span><span class="w"> </span><span class="o">*</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">parsedTime</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="p">,</span><span class="w"> </span><span class="nx">imageName</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nx">layout</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="w"> </span><span class="c1">//&quot;2006-01-02T15:04:05.000Z&quot;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nx">log</span><span class="p">.</span><span class="nx">Debug</span><span class="p">().</span><span class="nx">Msgf</span><span class="p">(</span><span class="s">&quot;searching for: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">search</span><span class="p">)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="c1">// Look up the matching image</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">imgs</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">        </span><span class="nx">log</span><span class="p">.</span><span class="nx">Trace</span><span class="p">().</span><span class="nx">Msgf</span><span class="p">(</span><span class="s">&quot;\t %s &lt;--&gt; %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">ImageId</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">search</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">ToLower</span><span class="p">(</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">ImageId</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">strings</span><span class="p">.</span><span class="nx">ToLower</span><span class="p">(</span><span class="o">*</span><span class="nx">search</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">            </span><span class="nx">log</span><span class="p">.</span><span class="nx">Trace</span><span class="p">().</span><span class="nx">Msgf</span><span class="p">(</span><span class="s">&quot;\t %s == %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">ImageId</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">search</span><span class="p">)</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">            </span><span class="nx">p</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">layout</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">CreationDate</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">                </span><span class="nx">log</span><span class="p">.</span><span class="nx">Err</span><span class="p">(</span><span class="nx">err</span><span class="p">).</span><span class="nx">Msg</span><span class="p">(</span><span class="s">&quot;failed to parse date from image i.CreationDate&quot;</span><span class="p">)</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">            </span><span class="nx">log</span><span class="p">.</span><span class="nx">Debug</span><span class="p">().</span><span class="nx">Str</span><span class="p">(</span><span class="s">&quot;i.CreationDate&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">CreationDate</span><span class="p">).</span><span class="nx">Str</span><span class="p">(</span><span class="s">&quot;parsedTime&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">String</span><span class="p">()).</span><span class="nx">Msg</span><span class="p">(</span><span class="s">&quot;ami-create-date result&quot;</span><span class="p">)</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">p</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">            </span><span class="c1">// break</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">parsedTime</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;no matching ami found&quot;</span><span class="p">)</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="p">}</span>
</code></pre></div>
<p>I was impressed with the performance without any optimization of the api calls, and could see that with a proper approach to sorting the image ids I could improve the performance further.
However, the verbosity of doing some filtering to find and return the object was surprising, so I wrote this up to get feedback from other gophers and see what other idiomatic approaches are a solid way to filter down matching properties from result set.</p>
<p>Is there any library used by many to do this type of filtering, or is my .NET background coloring my perspective with dreams of Linq?</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-13 00:00:00">November 13, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="go-r1-day-15"><a class="toclink" href="../../../go-r1-day-15/">Go R1 Day 15</a></h2>
<h3 id="day-15-of-100"><a class="toclink" href="../../../go-r1-day-15/#day-15-of-100">Day 15 of 100</a></h3>
<h3 id="progress"><a class="toclink" href="../../../go-r1-day-15/#progress">progress</a></h3>
<ul>
<li>figured out scope issues with pointer and struct</li>
<li>Used <code>omitempty</code> in struct</li>
<li>exported final report in json format after searching for matching image id from ec2 instance image id</li>
<li>Find it interesting how much more wordy the go search method was, but appreciate it in a way as the "syntactic" sugar that's missing also is the reason there is more complication at times in languages like PowerShell/C#.</li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-12 00:00:00">November 12, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="go-r1-day-14"><a class="toclink" href="../../../go-r1-day-14/">Go R1 Day 14</a></h2>
<h3 id="day-14-of-100"><a class="toclink" href="../../../go-r1-day-14/#day-14-of-100">Day 14 of 100</a></h3>
<h3 id="progress"><a class="toclink" href="../../../go-r1-day-14/#progress">progress</a></h3>
<ul>
<li>built golang function with aws-sdk that returned ec2 instances, images</li>
<li>Joined the data together together to search for matching image from the ec2 metadata</li>
<li>generated json report from results and final struct</li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-11 00:00:00">November 11, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="go-r1-day-14"><a class="toclink" href="../../../go-r1-day-14/">Go R1 Day 14</a></h2>
<h3 id="day-14-of-100"><a class="toclink" href="../../../go-r1-day-14/#day-14-of-100">Day 14 of 100</a></h3>
<h3 id="progress"><a class="toclink" href="../../../go-r1-day-14/#progress">progress</a></h3>
<ul>
<li>Migrated my new aws lambda logger from zap to zerolog. Zap gave me some problems initially so zerolog is my favorite structured logger right now, much simpler.</li>
<li>Constructed <code>go-task</code> runner file for launching go test and go build/run.</li>
<li>Structured logging required a little bit of refactor but worked.</li>
</ul>
<p>Here's an example of providing back a logged string (don't log secrets normally, but I'm in testing phase) with structure.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span><span class="nx">log</span><span class="p">.</span><span class="nx">Debug</span><span class="p">().</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">        </span><span class="nx">Str</span><span class="p">(</span><span class="s">&quot;decodedBinarySecret&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">decodedBinarySecret</span><span class="p">).</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">        </span><span class="nx">Str</span><span class="p">(</span><span class="s">&quot;secretString&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">secretString</span><span class="p">).</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">        </span><span class="nx">Msg</span><span class="p">(</span><span class="s">&quot;Depending on whether the secret is a string or binary, one of these fields will be populated.&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Based on my improved understanding of conversions vs type assertions, the need to convert using a "cast" (Go calls these conversions, and yes it makes a copy in memory for this):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nx">log</span><span class="p">.</span><span class="nx">Info</span><span class="p">().</span><span class="nx">Str</span><span class="p">(</span><span class="s">&quot;requestDump&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">string</span><span class="p">(</span><span class="nx">requestDump</span><span class="p">)).</span><span class="nx">Msg</span><span class="p">(</span><span class="s">&quot;request information&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Type assertions are done when working with an interface.
I'm still working on my understanding of interfaces as they are their own beast in Go.
Unlike most other languages, a Go type implements an interface when all the required methods are matched.
This provides a great deal of the flexibility in Go interfaces.</p>
<p>The scoping of the interfaces is important, and while I listened to a lecture on this, I didn't yet work through the interface design principles to ensure the best resusability/narrowness of scope concepts.
I think that's going to take more "getting my hands dirty" for it to click.</p>
<h3 id="links"><a class="toclink" href="../../../go-r1-day-14/#links">links</a></h3>
<ul>
<li><a href="https://github.com/rs/zerolog">zerolog</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-04 00:00:00">November 4, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="consider-the-benefits-of-powershell-for-developer-workflows"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/">Consider the Benefits of Powershell for Developer Workflows</a></h2>
<h3 id="who-am-i-talking-to"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#who-am-i-talking-to">Who Am I Talking To</a></h3>
<ul>
<li>You use bash or python.</li>
<li>PowerShell seems wordy, extra verbose, and annoying.</li>
<li>It's a windows thing, you say... why would I even look at it.</li>
<li>Pry bash out of my fingers if yuo dare (probably not for you ðŸ˜)</li>
</ul>
<h3 id="what-powershell-is"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#what-powershell-is">What PowerShell Is</a></h3>
<ul>
<li>The best language for automating Windows... period.</li>
<li>A great language for development tooling and productivity scripts.</li>
<li>One of the best languages for automation with interactivity.
Python is fantastic. The REPL isn't meant for the same interactivity you get with PowerShell.
PowerShell prompt is sorta like mixing Python &amp; fish/bash in a happy marriage.</li>
<li>A rich language (not just scripting) for interacting with AWS using AWS.Tools.</li>
<li>A rich object-oriented pipeline that can handle very complex actions in one-liners based on object-oriented pipelines.</li>
<li>Intuitive and consistent mostly for command discovery.<ul>
<li>a common complaint from bash pros.</li>
<li>The point of the verbosity <code>Verb-Noun</code> is discoverability. <code>tar</code> for example is a bit harder to figure out than <code>Expand-Archive -Path foo -DestinationPath foo</code></li>
</ul>
</li>
<li>A language with a robust testing framework for unit, integration, infrastructure, or any other kinda testing you want! (Pester is awesome)</li>
</ul>
<h3 id="what-powershell-isnt"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#what-powershell-isnt">What PowerShell Isn't</a></h3>
<ul>
<li>Python ðŸ¤£</li>
<li>Good at datascience.</li>
<li>Succinct</li>
<li>Meant for high-concurrency</li>
<li>Good at GUI's... but come-on we're devs... guis make us weak ðŸ˜œ</li>
<li>A good webserver</li>
<li>Lots more.</li>
</ul>
<h3 id="the-right-tool-for-the-job"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#the-right-tool-for-the-job">The Right Tool for the Job</a></h3>
<p>I'm not trying to tell you never to use bash.
It's what you know, great!</p>
<p>However, I'd try to say if you haven't explored it, once you get past some of the paradigm differences, there is a rich robust set of modules and features that can improve most folks workflow.</p>
<h3 id="why-even-consider-powershell"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#why-even-consider-powershell">Why Even Consider PowerShell</a></h3>
<p>As I've interacted more and more with folks coming from a mostly Linux background, I can appreciate that considering PowerShell seems odd.
It's only recently that it's cross platform in the lifecycle of things, so it's still a new thing to most.</p>
<p>Having been immersed in the .NET world and now working on macOS and using Docker containers running Debian and Ubuntu (sometimes Alpine Linux), I completely get that's not even in most folks purview.</p>
<p>Yet, I think it's worth considering for developer workflows that there is a lot of gain to be had with PowerShell for improving the more complex build and development workflows because of the access to .NET.</p>
<p>No, it's not "superior". It's different.
Simple cli bash scripting is great for many things (thus prior article about Improving development workflow <code>Task</code> which uses shell syntax).</p>
<p>The fundemental difference in bash vs PowerShell is really text vs object, in my opinion.
This actually is where much of the value comes in for considering what to use.</p>
<p>{{&lt; admonition type="info" title="Go For CLI Tools" &gt;}}
Go provides a robust cross-platform single binary with autocomplete features and more.</p>
<p>I'd say that for things such as exporting pipelines to Excel, and other "automation" actions it's far more work in Go.</p>
<p>Focus Go on tooling that makes the extra plumbing and stronger typing give benefit rather than just overhead.
AWS SDK operations, serverless/lambda, apis, complex tools like Terraform, and more fit the bill perfectly and are a great use case.
{{&lt; /admonition &gt;}}</p>
<h3 id="scenario-working-with-aws"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#scenario-working-with-aws">Scenario: Working with AWS</a></h3>
<p>If you are working with the AWS SDK, you are working with objects.
This is where the benefit comes in over cli usage.</p>
<p>Instead of parsing json results and using tools like <code>jq</code> to choose arrays, instead, you can interact with the object by named properties very easily.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">$Filters</span> <span class="p">=</span> <span class="p">@(</span><span class="no">[Amazon.EC2.Model.Filter]</span><span class="p">::</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;tag:is_managed_by&#39;</span><span class="p">,</span><span class="s1">&#39;muppets&#39;</span><span class="p">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nv">$InstanceCollection</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-EC2Instance</span> <span class="n">-Filter</span> <span class="nv">$Filters</span><span class="p">)).</span><span class="n">Instances</span> <span class="p">|</span> <span class="nb">Select-PSFObject</span> <span class="n">InstanceId</span><span class="p">,</span> <span class="n">PublicIpAddress</span><span class="p">,</span><span class="n">PrivateIpAddress</span><span class="p">,</span><span class="n">Tags</span><span class="p">,</span><span class="s1">&#39;State.Code as StateCode&#39;</span><span class="p">,</span> <span class="s1">&#39;State.Name as StateName&#39;</span>  <span class="n">-ScriptProperty</span> <span class="p">@{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="n">Name</span> <span class="p">=</span> <span class="p">@{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>        <span class="n">get</span>  <span class="p">=</span> <span class="p">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>            <span class="nv">$this</span><span class="p">.</span><span class="n">Tags</span><span class="p">.</span><span class="n">GetEnumerator</span><span class="p">().</span><span class="n">Where</span><span class="p">{</span><span class="nv">$_</span><span class="p">.</span><span class="n">Key</span> <span class="o">-eq</span> <span class="s1">&#39;Name&#39;</span><span class="p">}.</span><span class="n">Value</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>        <span class="p">}</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="p">}</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="p">}</span>
</code></pre></div>
<p>With this <code>$InstanceCollection</code> variable, we now have access to an easily used object that can be used with named properties.</p>
<ul>
<li>Give me all the names of the EC2 instances: <code>$InstanceCollection.Name</code></li>
<li>Sort those: <code>$InstanceCollection.Name | Sort-Object</code> (or use alias shorthand such as <code>sort</code>)</li>
<li>For each of this results start the instances: <code>$InstanceCollection | Start-EC2Instance</code></li>
</ul>
<h3 id="practical-examples"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#practical-examples">Practical Examples</a></h3>
<p>Beyond that, we can do many things with the rich eco-system of prebuilt modules.</p>
<p>Here are some example of some rich one-liners using the power of the object based pipeline.</p>
<ul>
<li>Export To Json: <code>$InstanceCollection | ConvertTo-Json -Depth 10 | Out-File ./instance-collection.json</code></li>
<li>Toast notification on results: <code>Send-OSNotification -Title 'Instance Collection Results' -Body "Total results returned: $($InstanceCollection.Count)"</code></li>
<li>Export To Excel with Table:  <code>$InstanceCollection | Export-Excel -Path ./instance-collection.json -TableStyle Light8 -TableName 'FooBar'</code></li>
<li>Send a rich pagerduty event to flag an issue: <code>Send-PagerDutyEvent -Trigger -ServiceKey foo -Description 'Issues with instance status list' -IncidentKey 'foo' -Details $HashObjectFromCollection</code></li>
<li>Use a cli tool to flip to yaml (you can use native tooling often without much issue!): <code>$InstanceCollection | ConvertTo-Json -Depth 10 | cfn-flip | Out-File ./instance-collection.yml</code></li>
</ul>
<p>Now build a test (mock syntax), that passes or fails based on the status of the instances</p>
<p>{{&lt; admonition type="Note" title="Disclaimer" open=true &gt;}}</p>
<p>I'm sure there's great tooling with <code>jq</code>, <code>yq</code>, excel clis and other libraries that can do similar work.</p>
<p>My point is that it's pretty straight forward to explore this in PowerShell as object-based pipelines are a lot less work with complex objects than text based parsing.</p>
<p>{{&lt; /admonition &gt;}}</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">Describe</span> <span class="s2">&quot;Instance Status Check&quot;</span> <span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  <span class="n">Context</span> <span class="s2">&quot;Instances That Should Be Running&quot;</span> <span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="k">foreach</span><span class="p">(</span><span class="nv">$Instance</span> <span class="k">in</span> <span class="nv">$InstanceCollection</span><span class="p">)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>        <span class="n">It</span> <span class="s2">&quot;should be running&quot;</span> <span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>        <span class="nv">$Instance</span><span class="p">.</span><span class="n">StatusName</span> <span class="p">|</span> <span class="n">Should</span> <span class="n">-Be</span> <span class="s1">&#39;Running&#39;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        <span class="p">}</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="p">}</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>  <span class="p">}</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="p">}</span>
</code></pre></div>
<p>Now you have a test framework that you could validate operational issues across hundreds of instances, or just unit test the output of a function.</p>
<h3 id="exploring-the-object"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#exploring-the-object">Exploring the Object</a></h3>
<p>I did this comparison once for a coworker, maybe you'll find it useful too!</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="s2">&quot;Test Content&quot;</span> <span class="p">|</span> <span class="nb">Out-File</span> <span class="p">./</span><span class="n">foo</span><span class="p">.</span><span class="n">txt</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nv">$Item</span> <span class="p">=</span> <span class="nb">Get-Item</span> <span class="p">./</span><span class="n">foo</span><span class="p">.</span><span class="n">txt</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c">## Examine all the properties and methods available. It&#39;s an object</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nv">$Item</span> <span class="p">|</span> <span class="nb">Get-Member</span>
</code></pre></div>
<p>This gives you an example of the objects behind the scene.
Even though your console will only return a small set of properties back, the actual object is a .NET object with all the associated methods and properties.</p>
<p>This means that <code>Get-Item</code> has access to properties such as the base name, full path, directory name and more.</p>
<p>You can access the actual <code>datetime</code> type of the <code>CreationTime</code>, allowing you to do something like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">(</span><span class="nv">$item</span><span class="p">.</span><span class="n">LastAccessTime</span> <span class="p">-</span> <span class="nv">$Item</span><span class="p">.</span><span class="n">CreationTime</span><span class="p">).</span><span class="n">TotalDays</span>
</code></pre></div>
<p>This would use two date objects, and allow you to use the relevant <code>Duration</code> methods due to performing math on these.</p>
<p>The methods available could be anything such as <code>$Item.Encrypt(); $Item.Delete; $Item.MoveTo</code> and more all provided by the .NET namespace <code>System.IO.FileInfo</code>.</p>
<p>I know many of these things you can do in bash as well, but the object pipeline here I'd wager provides a very solid experience for more complex operations based on the .NET framework types available.</p>
<h3 id="wrap-up"><a class="toclink" href="../../../consider-the-benefits-of-powershell-for-developer-workflows/#wrap-up">Wrap Up</a></h3>
<p>This was meant to give a fresh perspective on why some folks have benefited from PowerShell over using shell scripting.
It's a robust language that for automation/build/cloud automation can give a rich reward if you invest some time to investigate.</p>
<p>For me the basic "right tool for the job" would like like this:</p>
<ul>
<li>data: python</li>
<li>serverless: go &amp; python (powershell can do it too, but prefer the others)</li>
<li>web: go &amp; python</li>
<li>basic cli stuff: shell (using <code>Task</code> which uses shell syntax)</li>
<li>complex cli project tasks: powershell &amp; go</li>
<li>automation/transformation: powershell &amp; python</li>
<li>high concurrency, systems programming: go</li>
</ul>
<p>Maybe this provided a fresh perspective for why PowerShell might benefit even those diehard shell scripters of you out there and maybe help convince you to take the plunge and give it a shot.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-03 00:00:00">November 3, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="improving-local-development-workflow-with-go-task"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/">Improving Local Development Workflow With Go Task</a></h2>
<h3 id="workflow-tooling"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#workflow-tooling">Workflow Tooling</a></h3>
<p>Development workflow, especially outside of a full-fledged IDE, is often a disjointed affair.
DevOps oriented workflows that often combine cli tools such as terraform, PowerShell, bash, and more all provide more complexity to getting up to speed and productive.</p>
<p>Currently, there is a variety of frameworks to solve this problem.
The "gold standard" most are familiar with in the open-source community would be <a href="https://www.gnu.org/software/make/manual/make.html">Make</a>.</p>
<h3 id="considering-cross-platform-tooling"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#considering-cross-platform-tooling">Considering Cross-Platform Tooling</a></h3>
<p>This is not an exhaustive list, it's focused more on my journey, not saying that your workflow is wrong.</p>
<p>I've looked at a variety of tooling, and the challenge has typically that most are very unintuitive and difficult to remember.</p>
<p>Make...it's everywhere. I'm not going to argue the merits of each tool as I mentioned, but just bring up that while cMake is cross platform, I've never considered Make a truly cross platform tool that is first class in both environments.</p>
<h3 id="invokebuild-psake"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#invokebuild-psake">InvokeBuild &amp; Psake</a></h3>
<p>In the Windows world, my preferred framework would be <a href="https://github.com/nightroman/Invoke-Build">InvokeBuild</a> or <a href="https://github.com/psake/psake">PSake</a>.</p>
<p>The thing is, not every environment will always have PowerShell, so I've wanted to experiment with minimalistic task framework for intuitive local usage in a project when the tooling doesn't need to be complex.
While <code>InvokeBuild</code> is incredibly flexible and intuitive, there is an expectation of familarity with PowerShell to fully leverage.</p>
<p>If you want a robust framework, I haven't found anything better.
Highly recommend examining if you are comfortable with PowerShell.
You can generate VSCode tasks from your defined scripts and more.</p>
<p><code>InvokeBuild</code> &amp; <code>Psake</code> aren't great for beginners just needing to run some tooling quickly in my experience.
The power comes with additional load for those not experienced in PowerShell.</p>
<p>If you are needing to interact with AWS.Tools SDK, complete complex tasks such as generating objects from parsing AST (Abstract Syntax Trees) and other, then I'd lead towards <code>InvokeBuild</code>.</p>
<p>However, if you need to initialize some local dependencies, run a linting check, format your code, get the latest from main branch and rebase, and other tasks that are common what option do you have to get up and running more quickly on this?</p>
<h3 id="task"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#task">Task</a></h3>
<p><a href="https://taskfile.dev/#/">Go Task</a></p>
<p>I've been pleasantly surprised by this cross-platform tool based on a simple <code>yaml</code> schema.
It's written in go, and as a result it's normally just a single line or two to immediately install in your system.</p>
<p>Here's why you might find some value in examining this.</p>
<ol>
<li>Cross-platform syntax using this go interpreter <a href="https://github.com/mvdan/sh">sh</a></li>
<li>Very simple <code>yaml</code> schema to learn.</li>
<li>Some very nice features that make it easy to ignore already built assets, setup task dependencies (that run in parallel too!), and simple cli interactivity.</li>
</ol>
<p>My experience has been very positive as I've found it very intuitive to build out basic commands as I work, rather than having to deal with more more complex schemas.</p>
<h3 id="get-started"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#get-started">Get Started</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">task --list</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">task --list</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="nt">fmt</span><span class="p">:</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nt">desc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Apply terraform formatting</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="nt">cmds</span><span class="p">:</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform fmt -recursive=true</span>
</code></pre></div>
<p>The <a href="https://taskfile.dev/#/usage">docs</a> are great for this project, so I'm not going to try and educate you on how to use this, just point out some great features.</p>
<p>First, with a quick VSCodee snippet, this provides you a quick way to bootstrap a new project with a common interface to run basic commands.</p>
<p>Let's give you a scenario... assuming you aren't using an already built Docker workspace.</p>
<ol>
<li>I need to initialize my 2 terraform directories.</li>
<li>I want to also ensure I get a few go dependencies for a project.</li>
<li>Finally, I want to validate my syntax is valid among my various directories, without using pre-commit.</li>
</ol>
<p>This gets us started...</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nt">tasks</span><span class="p">:</span>
</code></pre></div>
<p>Next, I threw together some examples here.</p>
<ul>
<li>Initialize commands for two separate directories.</li>
<li>A <code>fmt</code> command to apply standardized formatting across all <code>tf</code> files.</li>
<li>Finally, wrap up those commands with a <code>dep: []</code> value that will run the <code>init</code> commands in parallel, and once that is finished it will run <code>fmt</code> to ensure consistent formatting.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3&#39;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nt">env</span><span class="p">:</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nt">TF_IN_AUTOMATION</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nt">tasks</span><span class="p">:</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="nt">init-workspace-foo</span><span class="p">:</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="nt">dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform/foo</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="nt">cmds</span><span class="p">:</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="nt">init-workspace-bar</span><span class="p">:</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">    </span><span class="nt">dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform/bar</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="nt">cmds</span><span class="p">:</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">  </span><span class="nt">fmt</span><span class="p">:</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">    </span><span class="nt">desc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Recursively apply terraform fmt to all directories in project.</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">    </span><span class="nt">cmds</span><span class="p">:</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform fmt -recursive=true</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">  </span><span class="nt">init</span><span class="p">:</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">    </span><span class="nt">desc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Initialize the terraform workspaces in each directory in parallel.</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="nt">deps</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">init-workspace-foo</span><span class="p p-Indicator">,</span><span class="nv">init-workspace-bar</span><span class="p p-Indicator">]</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="nt">cmds</span><span class="p">:</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fmt</span>
</code></pre></div>
<p>You can even add a task in that would give you a structured git interaction, and not rely on git aliases.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">  </span><span class="nt">sync</span><span class="p">:</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">      </span><span class="nt">desc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In GitHub flow, I should be getting lastest from main and rebasing on it so I don&#39;t fall behind</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">      </span><span class="nt">cmds</span><span class="p">:</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">git town sync</span>
</code></pre></div>
<h3 id="why-not-just-run-manually"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#why-not-just-run-manually">Why not just run manually</a></h3>
<p>I've seen many folks online comments about why even bother?
Can't the dev just run the commands in the directory when working through it and be done with it?</p>
<p>I believe tasks like this should be thrown into a task runner from the start.
Yes, it's very easy to just type <code>terraform fmt</code>, <code>go fmt</code>, or other simple commands... if you are the builder of that project.</p>
<p>However:</p>
<ul>
<li>it increases the cognitive load for tedious tasks that no one should have to remember each time the project grows.</li>
<li>It makes your project more accessible to new contributors/teammates.</li>
<li>It allows you to simply moving to automation by wrapping up some of these automation actions in GitHub Actions or equivalent, but simply having the CICD tooling chosen run the same task you can run locally.</li>
</ul>
<p>Minimal effort to move it to automation from that point!</p>
<p>I think wrapping up things with a good task runner tools considers the person behind you, and prioritizes thinking of others in the course of development.
It's an act of consideration.</p>
<h3 id="choose-the-right-tooling"><a class="toclink" href="../../../improving-local-development-workflow-with-go-task/#choose-the-right-tooling">Choose the Right Tooling</a></h3>
<p>Here's how I'd look at the choices:</p>
<ul>
<li>Run as much in Docker as you can.</li>
<li>If simple actions, driven easily on cli such as build, formatting, validation, and other then start with <code>Task</code> from the beginning and make your project more accessible.</li>
<li>If requirements grow more complex, with interactions with AWS, custom builds for Lambda, combined with other more complex interactions that can't easily be wrapped up in a few lines of shell scripting... use <code>InvokeBuild</code> or equivalent. This gives you access to the power of <code>.NET</code> and the large module collection provided.</li>
</ul>
<p>Even if you don't really need it, think of the folks maintaining or enabling others to succeed with contributions more easily, and perhaps you'll find some positive wins there. ðŸŽ‰</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-11-02 00:00:00">November 2, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="unable-to-resolve-provider-aws-with-terraform-version-0134"><a class="toclink" href="../../../unable-to-resolve-provider-aws-with-terraform-013/">Unable To Resolve Provider AWS with Terraform Version 0.13.4</a></h2>
<p>I couldn't get past this for a while when I accidentally stumbled across a fix.
I believe the fix was merged, however this problem still existed in <code>0.13.4</code> so I stuck with it.</p>
<p>{{&lt; admonition type=info title="GitHub Issues" open=true &gt;}}
When investigating the cause, I found this PR which intended this to be the installer behaviour for the implicit global cache, in order to match 0.12. Any providers found in the global cache directory are only installed from the cache, and the registry is not queried.
Note that this behaviour can be overridden using provider_installation configuration.
That is, you can specify configuration like this <code>~/.terraform.d/providercache.tfrc</code></p>
<p><a href="https://github.com/hashicorp/terraform/issues/25985#issuecomment-680052845">GitHub Issue Comment</a></p>
<p>{{&lt; /admonition &gt;}}</p>
<p>I used the code snippet here: <code>micro ~/.terraform.d/providercache.tfrc</code></p>
<p>Wasn't sure if it was interpreted with shell, so I didn't use the relative path <code>~/.terraform.d/plugins</code>, though that might work as well.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">provider_installation</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="nb">filesystem_mirror</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/Users/sheldonhull/.terraform.d/plugins&quot;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="nb">direct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="na">exclude</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p">}</span>
</code></pre></div>
<p>After this <code>terraform init</code> worked.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-10-30 00:00:00">October 30, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="quick-start-to-using-influxdb-on-macos"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/">Quick Start to Using Influxdb on Macos</a></h2>
<h3 id="intro"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/#intro">Intro</a></h3>
<p>OSS 2.0 is a release candidate at this time, so this may change once it's released.</p>
<p>It wasn't quite clear to me how to get up and running quickly with a docker based setup for OSS 2.0 version, so this may save you some time if you are interested. It also should be very similar to the Windows workflow excepting the basic <code>brew</code> commands and service install commands you'll just want to flip over to <code>choco install telegraf</code> .</p>
<h3 id="docker-compose"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/#docker-compose">Docker Compose</a></h3>
<p>Grabbed this from a comment and modified the ports as the were flipped from the <code>9999</code> range used during first early access.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># docker exec -it influxdb /bin/bash</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.1&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nt">services</span><span class="p">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span><span class="nt">influxdb</span><span class="p">:</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">always</span><span class="w">  </span><span class="c1"># It will always restart on rebooting machine now, no need to manually manage this</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">influxdb</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;8086:8086&#39;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="nt">images</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;quay.io/influxdb/influxdb:2.0.0-rc&#39;</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">influxdb:/var/lib/influxdb2</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">influxd run --bolt-path /var/lib/influxdb2/influxd.bolt --engine-path /var/lib/influxdb2/engine --store bolt</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="nt">volumes</span><span class="p">:</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">  </span><span class="nt">influxdb</span><span class="p">:</span>
</code></pre></div>
<p>The main modifications I made was ensuring it auto started.</p>
<p>Access the instance on <code>localhost:8086</code>.</p>
<h3 id="telegraf"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/#telegraf">Telegraf</a></h3>
<p>It's pretty straight-forward using homebrew. <code>brew install telegraf</code></p>
<p>The configuration file is created by default at: <code>/usr/local/etc/telegraf.conf</code> as well as the <code>telegraf.d</code> directory.</p>
<p>I'm still a bit new on macOS, so once I opened Chronograf, I wanted to try the new http based configuration endpoint, so I used the web gui to create a telegraf config for system metrics and tried replacing the <code>telegraf.conf</code> reference in the plist file.
This didn't work for me as I couldn't get the environment variable for the token to be used, so I ended up leaving it as is, and instead edited the configuration.</p>
<ul>
<li><code>brew services stop telegraf</code></li>
<li><code>micro /usr/Local/Cellar/telegraf/1.15.3/homebrew.mxcl.telegraf.plist</code></li>
</ul>
<p>I updated the configuration (see line 16) unsuccessfully with the http config endpoint.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>&lt;plist version=&quot;1.0&quot;&gt;
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>  &lt;dict&gt;
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    &lt;key&gt;KeepAlive&lt;/key&gt;
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    &lt;dict&gt;
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>      &lt;key&gt;SuccessfulExit&lt;/key&gt;
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>      &lt;false/&gt;
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    &lt;/dict&gt;
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    &lt;key&gt;Label&lt;/key&gt;
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    &lt;string&gt;homebrew.mxcl.telegraf&lt;/string&gt;
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>    &lt;key&gt;ProgramArguments&lt;/key&gt;
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    &lt;array&gt;
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>      &lt;string&gt;/usr/local/opt/telegraf/bin/telegraf&lt;/string&gt;
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>      &lt;string&gt;-config&lt;/string&gt;
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>      &lt;string&gt;/usr/local/etc/telegraf.conf&lt;/string&gt;
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>      &lt;string&gt;-config-directory&lt;/string&gt;
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>      &lt;string&gt;/usr/local/etc/telegraf.d&lt;/string&gt;
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    &lt;/array&gt;
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    &lt;key&gt;RunAtLoad&lt;/key&gt;
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>    &lt;true/&gt;
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>    &lt;key&gt;WorkingDirectory&lt;/key&gt;
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>    &lt;string&gt;/usr/local/var&lt;/string&gt;
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>    &lt;key&gt;StandardErrorPath&lt;/key&gt;
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>    &lt;string&gt;/usr/local/var/log/telegraf.log&lt;/string&gt;
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>    &lt;key&gt;StandardOutPath&lt;/key&gt;
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>    &lt;string&gt;/usr/local/var/log/telegraf.log&lt;/string&gt;
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>  &lt;/dict&gt;
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>&lt;/plist&gt;
</code></pre></div>
<p>What worked for me was to edit: <code>micro /usr/local/etc/telegraf.conf</code> and add the following (I set the token explicitly in my test case).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="w"> </span><span class="k">[[outputs.influxdb_v2]]</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="n">urls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;http://localhost:8086&quot;</span><span class="p">]</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$INFLUX_TOKEN&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="n">organization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;sheldonhull&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="n">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;telegraf&quot;</span>
</code></pre></div>
<ul>
<li>Start service with <code>brew services restart telegraf</code> and it should start sending data.</li>
<li>NOTE: I'm still getting the hang of brew and service management on Linux/macOS, so the first time I did this it didn't work and I ended up starting it using <code>telegraf -config http://localhost:8086/api/v2/telegrafs/068ab4d50aa24000</code> and just running initially in my console (having already set the <code>INFLUX_TOKEN</code> environment variable)
Any comments on if I did something wrong here would be appreciated <img alt="ðŸ˜" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f601.svg" title=":grin:" /> I'm pretty sure the culprit is the need for the <code>INFLUX_TOKEN</code> environment variable and I'm not sure if the service load with brew is actually sourcing the <code>.profile</code> I put this in.
Maybe I can pass it explicitly?</li>
</ul>
<h3 id="additional-monitoring"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/#additional-monitoring">Additional Monitoring</a></h3>
<p>This is a work in progress.
I found <a href="https://github.com/influxdata/telegraf/issues/3192">GitHub Issue #3192</a> and used it as a starting point to experiment with getting a "top processes" for evaluating what specifically was impacting my systems at the time of a spike.
I'll update this once I've gotten things further improved.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># # Monitor process cpu and memory usage</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1"># https://github.com/influxdata/telegraf/tree/master/plugins/inputs/procstat</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">[[inputs.procstat]]</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${USER}&quot;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="n">fieldpass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">      </span><span class="s2">&quot;cpu_time_user&quot;</span><span class="p">,</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">      </span><span class="s2">&quot;cpu_usage&quot;</span><span class="p">,</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">      </span><span class="s2">&quot;memory_rss&quot;</span><span class="p">,</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="k">[[processors.topk]]</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">  </span><span class="n">namepass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*procstat*&quot;</span><span class="p">]</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">      </span><span class="s2">&quot;cpu_time_user&quot;</span><span class="p">,</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">      </span><span class="s2">&quot;cpu_usage&quot;</span><span class="p">,</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">      </span><span class="s2">&quot;memory_rss&quot;</span><span class="p">,</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">  </span><span class="p">]</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">  </span><span class="n">period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">  </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">  </span><span class="c1"># group_by = [&quot;pid&quot;]</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="k">[[processors.regex]]</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">  </span><span class="n">namepass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*procstat*&quot;</span><span class="p">]</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">  </span><span class="k">[[processors.regex.tags]]</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">    </span><span class="n">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;process_name&quot;</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">    </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;^(.{60}).*&quot;</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">    </span><span class="n">replacement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${1}...&quot;</span>
</code></pre></div>
<h3 id="final-result"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/#final-result">Final Result</a></h3>
<p>I like the final result.
Dark theme for the win.</p>
<p>I've had some spikes in Vscode recently, impacting my CPU so I've been meaning to do something like this for a while, but finally got it knocked out today once I realized there was a 2.0 docker release I could use to get up and running easily. Next step will be to add some process level detail so I can track the culprit (probably VScode + Docker Codespaces).</p>
<p><img alt="Influx System Dashboard" src="../../images/2020-10-30_19-39-41-influx-macos.png" /></p>
<h3 id="wishlist"><a class="toclink" href="../../../quick-start-to-using-influxdb-on-macos/#wishlist">Wishlist</a></h3>
<ul>
<li>Pretty formatting of date/time like Grafana does, such as converting seconds into hour/minutes.</li>
<li>Log viewing api so I could query cloudwatch logs like Grafana offers without needing to ingest.</li>
<li>Edit existing telegraf configuration in the load data section. Right now I can't edit.</li>
<li>MSSQL Custom SQL Server query plugin to be released <img alt="ðŸ˜" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f601.svg" title=":grin:" /> <a href="https://github.com/influxdata/telegraf/issues/1894">Issue 1894</a> &amp; <a href="https://github.com/influxdata/telegraf/pull/3069">PR 3069</a>
Right now I've done custom exec based queries using dbatools and locally included PowerShell modules.
This sorta defeats the flexibility of having a custom query call so I can minimize external dependencies.</li>
</ul>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <span class="md-pagination__current">2</span> <a class="md-pagination__link" href="../3/">3</a> <a class="md-pagination__link" href="../4/">4</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../8/">8</a>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "toc.follow", "navigation.top", "navigation.path", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.4.0/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>