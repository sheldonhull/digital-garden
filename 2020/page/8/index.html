
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../2021/">
      
      
        <link rel="next" href="../../../2019/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.26">
    
    
      
        <title>2020 - digital garden</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../stylesheets/gist.css">
    
      <link rel="stylesheet" href="../../../stylesheets/code-highlighting.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2020" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="digital garden" class="md-header__button md-logo" aria-label="digital garden" data-md-component="logo">
      
  <img src="../../../assets/images/sheldon-avatar.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            digital garden
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2020
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sheldonhull/digital-garden" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../welcome/" class="md-tabs__link">
        
  
    
  
  home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  posts

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/tooling/task/" class="md-tabs__link">
          
  
    
  
  notes

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../2023/" class="md-tabs__link">
          
  
    
  
  archive

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="digital garden" class="md-nav__button md-logo" aria-label="digital garden" data-md-component="logo">
      
  <img src="../../../assets/images/sheldon-avatar.jpg" alt="logo">

    </a>
    digital garden
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sheldonhull/digital-garden" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    posts
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Development
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/tooling/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tooling
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            Tooling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/precommit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    precommit
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/direnv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    direnv
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/tooling/aqua/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aqua
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/shell/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Shell
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            Shell
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/shell/shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shell
  </span>
  

      </a>
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/powershell/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Powershell
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            Powershell
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/powershell/powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    powershell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/powershell/pester/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pester
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/powershell/dbatools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    dbatools
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/observability/observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    observability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/level-up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Level-Up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/kubernetes/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/go/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Go
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_8" id="__nav_3_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_8">
            <span class="md-nav__icon md-icon"></span>
            Go
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/vscode-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSCode Configuration for Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/using-go-tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Go Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/pre-commit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pre-Commit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/mage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go Logging
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/goroutines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    goroutines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/effective-go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Effective Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/dagger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dagger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/go/code-coverage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Coverage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/front-end/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Front end
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_9" id="__nav_3_1_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_9">
            <span class="md-nav__icon md-icon"></span>
            Front end
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/front-end/yarn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yarn
  </span>
  

      </a>
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/build-release-engineering/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Build release engineering
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_10" id="__nav_3_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_10">
            <span class="md-nav__icon md-icon"></span>
            Build release engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/build-release-engineering/renovate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    renovate
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/build-release-engineering/azure-pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure Pipelines
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/aws/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Aws
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_11" id="__nav_3_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_11">
            <span class="md-nav__icon md-icon"></span>
            Aws
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/aws/s5cmd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syncing Files Using S5Cmd
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/aws/aws-powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS PowerShell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/aws/aws-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    aws-cli
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../development/ai/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Ai
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1_12" id="__nav_3_1_12_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_12">
            <span class="md-nav__icon md-icon"></span>
            Ai
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ai/copilot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    copilot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/ai/chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    chat
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Career
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Career
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/management-dynamics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Management Dynamics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/eponymous-laws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eponymous Laws
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/engineering-culture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Engineering Culture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../career/communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
      
    
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    2020
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2020-05-07t2254340000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-05-07T22:54:34+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2020-05-05t1733000000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-05-05T17:33:00+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2020-05-05t2012010000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-05-05T20:12:01+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2020-04-30t0526320000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-04-30T05:26:32+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-pester-to-improve-operational-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Using Pester to Improve Operational Tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improved-windows-terminal-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Improved Windows Terminal Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles" class="md-nav__link">
    <span class="md-ellipsis">
      A Smattering of Thoughts About Applying Site Reliability Engineering principles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickly-create-github-release-via-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Quickly Create Github Release via Cli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asciidoc-distributed-docs-as-code" class="md-nav__link">
    <span class="md-ellipsis">
      Asciidoc Distributed Docs as Code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-sql-server-in-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Running SQL Server in Docker
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2014
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../../2013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2013
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2020-05-07t2254340000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-05-07T22:54:34+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2020-05-05t1733000000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-05-05T17:33:00+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2020-05-05t2012010000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-05-05T20:12:01+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2020-04-30t0526320000" class="md-nav__link">
    <span class="md-ellipsis">
      2020-04-30T05:26:32+00:00
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-pester-to-improve-operational-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      Using Pester to Improve Operational Tasks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#improved-windows-terminal-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Improved Windows Terminal Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles" class="md-nav__link">
    <span class="md-ellipsis">
      A Smattering of Thoughts About Applying Site Reliability Engineering principles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickly-create-github-release-via-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Quickly Create Github Release via Cli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asciidoc-distributed-docs-as-code" class="md-nav__link">
    <span class="md-ellipsis">
      Asciidoc Distributed Docs as Code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-sql-server-in-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Running SQL Server in Docker
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="2020">2020<a class="headerlink" href="#2020" title="Permanent link">🔗</a></h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-05-07 00:00:00">May 7, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="2020-05-07t2254340000"><a class="toclink" href="../../../2020-05-07t2254340000/">2020-05-07T22:54:34+00:00</a></h2>
<p>Kept getting an error <code>Incorrect syntax near the keyword 'read'</code> when running the some updated PowerShell 7 in lambda with the <code>dotnet3.1</code> sdk. Was troubleshooting loading types thinking I was having path issues.</p>
<p>Turns out one of these things is not like the other. 🤣</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">set</span><span class="w"> </span><span class="n">nocount</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">set</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="k">isolation</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">uncommitted</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">set</span><span class="w"> </span><span class="n">nocount</span><span class="w"> </span><span class="k">on</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">set</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="k">isolation</span><span class="w"> </span><span class="k">level</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="k">uncommitted</span>
</code></pre></div>
<p>I think this explains why "error during "read".
Maybe I should have run in my Azure Data Studio session before trying serverless 😀</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-05-05 00:00:00">May 5, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="2020-05-05t1733000000"><a class="toclink" href="../../../2020-05-05t1733000000/">2020-05-05T17:33:00+00:00</a></h2>
<p>If you want to simplify keeping up with github releases instead of using email, try the GitHub slack app. Simple create a releases channel and then run these two steps:</p>
<ol>
<li><code>/github subscribe terraform-providers/terraform-provider-terraform</code></li>
<li><code>/github unsubscribe terraform-providers/terraform-provider-terraform issues, deployments, statuses, public, commits,pulls</code></li>
</ol>
<p>This should result in a final message saying:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>This channel will get notifications from terraform-providers/terraform-provider-terraform for:
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>releases
</code></pre></div>
<p>Why not use <code>/github subscribe terraform-providers/terraform-provider-terraform releases</code>? I've found that at least on mobile this fails to filter properly. For me, it ignored many filters. By doing it in two steps it worked every-time without issues.</p>
<p>This means you'll now get a nice formatted slack notification of just a release, without all the extra noise of pull requests, issues, commits and more. Easy way to keep up to date with projects if you want to keep it in slack. The other way is to use the github notifications section, but personally I like the slack approach.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-05-05 00:00:00">May 5, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="2020-05-05t2012010000"><a class="toclink" href="../../../2020-05-05t2012010000/">2020-05-05T20:12:01+00:00</a></h2>
<p>Finally got <a href="https://forestry.io/blog/search-with-algolia-in-hugo/">atomic algolia</a> to work in CICD for my hugo blog. I've tried tackling this in many ways over time, but this finally just worked with plug and play ease thanks to just adding a line to the hugo build <code>netlify.toml</code> file.</p>
<p>If you want to try this out, assuming you've already got an algolia index, json file generated and all... then just:</p>
<ol>
<li>Setup env variables in netlify build</li>
<li>Add the following line to your netlify production build script</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Starting atomic-algolia update&quot;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>npm<span class="w"> </span>run<span class="w"> </span>algolia
</code></pre></div>
<p>You should get the following output from your netlify build if everything went right. No hits to algolia if you didn't change your indexes! 🎉</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>3:13:47 PM: &gt; sheldonhull.hugo@1.0.0 algolia /opt/build/repo
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>3:13:47 PM: &gt; atomic-algolia
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>3:13:47 PM: [Algolia] Adding 0 hits to sheldonhull.com
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>3:13:47 PM: [Algolia] Updating 0 hits to sheldonhull.com
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>3:13:47 PM: [Algolia] Removing 0 hits from sheldonhull.com
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>3:13:47 PM: [Algolia] 156 hits unchanged in sheldonhull.com
</code></pre></div>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-04-30 00:00:00">April 30, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              1 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="2020-04-30t0526320000"><a class="toclink" href="../../../2020-04-30t0526320000/">2020-04-30T05:26:32+00:00</a></h2>
<p>Got some use out of the new beta plugins for netlify.</p>
<p>I added a link checker task and it ran over 2000 internal tests to ensure all internal resources such as images, internal links, and even css assests all correctly were found. 🧹</p>
<p>That's a great idea for static sites. Incremental maintenance always is better than trying to catch up after years of no upkeep.</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-04-20 00:00:00">April 20, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              7 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="using-pester-to-improve-operational-tasks"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/">Using Pester to Improve Operational Tasks</a></h2>
<h3 id="taking-the-time-to-test"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#taking-the-time-to-test">Taking the Time To Test</a></h3>
<p>Requirements in a constant state of change set you up for failure.</p>
<p>Failure to work through requirements before starting can also increase the risk of failure.</p>
<p>Planning with defined acceptance criteria of work you are committing to is not about filling in more documentation and work that no one cares about. Properly defining the acceptance criteria for yourself is about the exploratory process that defines and limits the scope of the work to deliver the minimum viable product. This allows continued momentum and delivery of value to the business.</p>
<h3 id="doesnt-this-create-more-busy-work-for-me"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#doesnt-this-create-more-busy-work-for-me">Doesn't this create more busy work for me?</a></h3>
<p>Without effective acceptance criteria, <em>you are setting yourself up for more work</em>, and thus likely to deliver value to the business as quickly. From my perspective, if you cannot truly define the acceptance criteria for work, then it's likely the effort will result in less value, be difficult to deliver, or end up with scope creep.</p>
<p><em>This is a critical thing to communicate to any teams struggling with reactive work.</em> Without spending time ensuring proactive planning and defining the requirement and acceptance criteria, more time is often spent reworking and solving problems that might have been better handled with a little planning and forethought.</p>
<p>A classic example of unclear acceptance criteria and the wasteful impact of work is from a youtube clip here.</p>
<p>{{&lt; youtube BTTdHW8Z668 &gt;}}</p>
<p>How many times have you started work on a project and found yourself in a similar situation?</p>
<blockquote>
<p>"There are many reasons why software projects go wrong. A very common reason is that different people in the organization or on the team have very different understandings of how the software should behave, and what problems it’s trying to solve. Ignorance is the single greatest impediment to throughput"
Teams that deliberately seek to discover what they are ignorant about before development starts are more productive because there is less rework.
The most effective way to do this is through conversation and collaboration between key stakeholders...
Dan North</p>
</blockquote>
<h3 id="small-steps-in-testing"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#small-steps-in-testing">Small Steps In Testing</a></h3>
<p>Now that I did my high-level philosophizing ... let's do something more low level and fun.</p>
<h4 id="an-example-of-adding-tests-to-devops-oriented-tasks"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#an-example-of-adding-tests-to-devops-oriented-tasks">An example of adding tests to DevOps oriented tasks</a></h4>
<p>If we want to apply the "software engineer solving operational problems" approach to a very simple task, we could take the example of deploying a logging agent.</p>
<p>A software engineer expects a healthy culture to include tests for any code they write.
This ensures better quality, more rapid velocity in changes, and other benefits that TDD advocates can tell you in other places.</p>
<p>For our example, let's say we are deploying a monitoring agent on some servers.</p>
<h4 id="gherkin"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#gherkin">Gherkin</a></h4>
<p>Gherkin is the syntax used to describe the tests.</p>
<p>{{&lt; admonition type="info" title="Pester Syntax" &gt;}}
You can write Pester tests with PowerShell in a different format, but I'm going to use Gherkin here because of its sentences and far less of a confusing DSL for our example.
{{&lt; /admonition &gt;}}</p>
<p>My understanding would be to compare Cucumber "spoken word", and Gherkin as the "language" chosen to communicate.
When you write the feature files to work with Cucumber, you write them in Gherkin.
Gherkin is supported for automated testing in many scripting languages.
In a Windows environment, for example, you can use it to check many things like services running, connectivity with a server, installation of an app, and more using invocation via Pester.</p>
<p>Most examples I've found on Cucumber are focused very much on user testing, like website clicks, saving things, and other very narrow development focused actions.</p>
<p>What I've failed to see as much of is the discussion on the value of using this approach with teams implementing "Infrastructure as Code", operations teams, and other non-application specific roles.</p>
<h3 id="make-your-checklist-automated"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#make-your-checklist-automated">Make Your Checklist Automated</a></h3>
<p>In my example, let's start small and say you just have PowerShell, and some servers.</p>
<p>What I've discovered is that to actual validate DevOps oriented work is completed, you typically go through the equivalent of what a Cucumber test would have.
This "checklist" of validations is often manually performed, lacking consistency and the ability to scale or repeat with minimal effort.</p>
<p>Consider an alternative approach to helping solve this issue, and expanding your ability to automate the tedious testing and validation of changes made.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nf">Scenario</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">Given </span><span class="nf">(environment state)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="k">When </span><span class="nf">(something is done)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="k">Then </span><span class="nf">(expected result)</span>
</code></pre></div>
<h4 id="using-pester-to-write-an-ops-test"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#using-pester-to-write-an-ops-test">Using Pester To Write An Ops Test</a></h4>
<p>Instead of using manual checks to validate a series of steps, let's see what a Cucumber oriented test might define as the acceptance criteria to confirm successfully finished, and how this might work with automating the tests.</p>
<p>This is a simple MSI with some command-line arguments that might be required.
You want to validate the chocolatey package you deploy with correctly parsed the arguments passed in, and then successfully registered with the logging services.</p>
<p>An example feature file with Gherkin might look like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">@class</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">Feature:</span><span class="nf"> I can generate configuration files for FancyLoggingVendor collection dynamically</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nf">    </span><span class="k">Background:</span><span class="nf"> The test environment</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="k">        Given </span><span class="nf">the test environment is setup</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Source json is configured to collect windows event logs</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="k">        Given </span><span class="nf">FancyLoggingVendor json object is initialized</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="nf">        </span><span class="k">When </span><span class="nf">the package parameters request a Windows Event</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="nf">        </span><span class="k">Then </span><span class="nf">the created json file contents match</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="nf">            </span><span class="k">&quot;&quot;&quot;</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="s">{</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="s">&quot;api.version&quot;:&quot;v1&quot;,</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="s">&quot;sources&quot;:\[</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="s">{</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="s">&quot;sourceType&quot;:&quot;LocalWindowsEventLog&quot;,</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="s">&quot;name&quot;:&quot;GherkinTest&quot;,</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="s">&quot;renderMessages&quot;:true,</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="s">&quot;cutoffRelativeTime&quot;:&quot;-1h&quot;,</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="s">&quot;hostname&quot;:&quot;gherkintest&quot;,</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="s">&quot;logNames&quot;:\[</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="s">&quot;Security&quot;,</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="s">&quot;Application&quot;</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="s">\]</span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="s">}</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="s">\]</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="s">}</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="s">            </span><span class="k">&quot;&quot;&quot;</span>
</code></pre></div>
<p>Another one that shows Scenario Outlines. This adds more functionality to looping through various variations of test cases.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">Feature:</span><span class="nf"> I can install FancyLoggingVendor on my machine</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nf">    </span><span class="k">Background:</span><span class="nf"> The local package is updated and the functions loaded</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="k">        Given </span><span class="nf">the test environment is setup</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="nf">    </span><span class="k">Scenario Outline:</span><span class="nf"> As a local user, I can install FancyLoggingVendor and configure capture my desired target</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">        Given </span><span class="nf">this package is not installed</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="nf">        </span><span class="k">When </span><span class="nf">the package source is a local nupkg file</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="nf">        </span><span class="k">And </span><span class="nf">a </span><span class="nv">&lt;Description&gt;</span><span class="nf"> is provided with the values: </span><span class="nv">&lt;Paths&gt;</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="nf">        </span><span class="k">Then </span><span class="nf">I can install from this source</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="nf">        </span><span class="k">And </span><span class="nf">the sources json returns sources of: </span><span class="nv">&lt;ExpectedSourcesCount&gt;</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="nf">        </span><span class="k">And </span><span class="nf">the application should show up in installed programs</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="nf">        </span><span class="k">And </span><span class="nf">the service should show up</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="nf">        </span><span class="k">And </span><span class="nf">the service should be running</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="nf">        </span><span class="k">Examples:</span><span class="nf"> Source Variations</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">            |</span><span class="nv"> Description</span><span class="k">              |</span><span class="nv"> Paths</span><span class="k">                              |</span><span class="nv"> ExpectedSourcesCount</span><span class="k"> |</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="k">            |</span><span class="s"> Single_File</span><span class="k">              |</span><span class="s"> C:\\temp\\taco.log</span><span class="k">                 |</span><span class="s"> 1</span><span class="k">                    |</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="k">            |</span><span class="s"> Single_File_with_Filters</span><span class="k"> |</span><span class="s"> C:\\temp\\_.log</span><span class="k">                    |</span><span class="s"> 1</span><span class="k">                    |</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="k">            |</span><span class="s"> SingleFolder</span><span class="k">             |</span><span class="s"> C:\\temp\\foobar</span><span class="k">                   |</span><span class="s"> 1</span><span class="k">                    |</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="k">            |</span><span class="s"> MultipleFolders</span><span class="k">          |</span><span class="s"> C:\\temp\\foobar,C:\\temp\\foobar2</span><span class="k"> |</span><span class="s"> 2</span><span class="k">                    |</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="k">            |</span><span class="s"> SingleFolder_with_filter</span><span class="k"> |</span><span class="s"> C:\\temp\\foobar\\_.log</span><span class="k">            |</span><span class="s"> 1</span><span class="k">                    |</span>
</code></pre></div>
<p>This provides us with a way to validate and test something like a chocolatey package installation or custom install script.</p>
<h3 id="leveraging-automation-to-scale-your-test"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#leveraging-automation-to-scale-your-test">Leveraging Automation To Scale your Test</a></h3>
<p>So all that writing...what benefit? Is it going to save time?</p>
<p>With PowerShell, I'd write something similar to match a called step to a code block here.</p>
<p>{{&lt; admonition type="warning" title="Warning" &gt;}}</p>
<p>Case sensitive name as of 2019-04-16 for keywords. Therefore to match steps, use <code>Before</code> not <code>before</code> or it won't match.</p>
<p>{{&lt; /admonition &gt;}}</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c"># Uses PSFramework as greatly simplifies any variable scoping or general configuration work, making this type of test easily reusable</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c">#this is incomplete, just to give some practical examples of how I might use to repeat a test like this.</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">Before</span> <span class="n">Each</span> <span class="n">Scenario</span> <span class="p">{</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c"># other prep work</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="p">}</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="n">Given</span> <span class="s1">&#39;local package is updated and the functions loaded&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="c"># package up the</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="p">}</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">Given</span> <span class="s1">&#39;the test environment is setup&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c"># do setup stuff here or other stuff that might be needed</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="p">}</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="n">Given</span> <span class="s1">&#39;this package is not installed&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="p">{</span> <span class="n">choco</span> <span class="n">uninstall</span> <span class="p">(</span><span class="nb">Get-PSFConfigValue</span> <span class="s1">&#39;gherkin.packagename&#39;</span><span class="p">)</span> <span class="p">}</span> <span class="p">|</span> <span class="n">Should</span> <span class="o">-Not</span> <span class="n">-Throw</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="p">}</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="n">When</span> <span class="s1">&#39;the package source is a local nupkg file&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="nb">Set-PSFConfig</span> <span class="s1">&#39;gherkin.packagesource&#39;</span> <span class="n">-Value</span> <span class="p">(</span><span class="nb">Get-ChildItem</span> <span class="n">-Path</span> <span class="p">(</span><span class="nb">Get-PSFConfigValue</span> <span class="s1">&#39;gherkin.packagefolder&#39;</span><span class="p">)</span> <span class="n">-Filter</span> <span class="p">*.</span><span class="n">nupkg</span><span class="p">).</span><span class="n">FullName</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="p">}</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="n">Then</span> <span class="s1">&#39;I can install from this source&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="nv">$ChocoArguments</span> <span class="p">=</span> <span class="p">@()</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="nv">$ChocoArguments</span> <span class="p">+=</span> <span class="s1">&#39;upgrade&#39;</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="nv">$ChocoArguments</span> <span class="p">+=</span> <span class="nb">Get-PSFConfigValue</span> <span class="s1">&#39;gherkin.packagename&#39;</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="nv">$ChocoArguments</span> <span class="p">+=</span> <span class="s1">&#39;--source &quot;{0}&quot;&#39;</span> <span class="o">-f</span> <span class="p">(</span><span class="nb">Get-PSFConfigValue</span> <span class="s1">&#39;gherkin.packagefolder&#39;</span><span class="p">)</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="nv">$ChocoArguments</span> <span class="p">+=</span> <span class="p">(</span><span class="nb">Get-PSFConfigValue</span> <span class="s1">&#39;gherkin.params&#39;</span><span class="p">)</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="nv">$ChocoArguments</span> <span class="p">+=</span> <span class="s1">&#39;--verbose&#39;</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="p">{</span> <span class="nb">Start-Process</span> <span class="n">choco</span><span class="p">.</span><span class="n">exe</span> <span class="n">-ArgumentList</span> <span class="nv">$ChocoArguments</span> <span class="n">-NoNewWindow</span> <span class="n">-PassThru</span> <span class="p">|</span> <span class="nb">Wait-Process</span> <span class="p">}</span> <span class="p">|</span> <span class="n">Should</span> <span class="o">-Not</span> <span class="n">-Throw</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="p">}</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="n">And</span> <span class="s1">&#39;the sources json returns sources of: &lt;ExpectedSourcesCount&gt;&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="k">param</span><span class="p">(</span><span class="nv">$ExpectedSourcesCount</span><span class="p">)</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="nb">Write-PSFmessage</span> <span class="n">-Level</span> <span class="n">Important</span> <span class="n">-FunctionName</span> <span class="s1">&#39;FancyLoggingVendor.Install.steps.ps1&#39;</span> <span class="n">-Message</span> <span class="s2">&quot;ExpectedSourcesCount -- $ExpectedSourcesCount&quot;</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="nv">$DefaultJsonFile</span> <span class="p">=</span> <span class="s1">&#39;PathToJsonHere&#39;</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="nb">Test-Path</span> <span class="nv">$DefaultJsonFile</span> <span class="n">-PathType</span> <span class="n">Leaf</span> <span class="p">|</span> <span class="n">Should</span> <span class="n">-Be</span> <span class="nv">$True</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="p">@(</span><span class="nb">Get-Content</span> <span class="nv">$DefaultJsonFile</span> <span class="n">-Raw</span> <span class="p">|</span> <span class="nb">ConvertFrom-Json</span> <span class="p">|</span> <span class="nb">Select-Object</span> <span class="n">Sources</span><span class="p">).</span><span class="n">Count</span> <span class="p">|</span> <span class="n">Should</span> <span class="n">-Be</span> <span class="nv">$ExpectedSourcesCount</span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="p">}</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="n">And</span> <span class="s1">&#39;the application should show up in installed programs&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a><span class="c"># helper function could be loaded and used to parse registry info for installed app showing up, or you could code it directly</span>
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="nb">Get-InstalledApp</span> <span class="s1">&#39;MyAgent&#39;</span> <span class="p">|</span> <span class="n">Should</span> <span class="n">-Be</span> <span class="nv">$true</span>
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="p">}</span>
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a><span class="n">And</span> <span class="s1">&#39;the service should show up&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a><span class="p">@(</span><span class="nb">Get-Service</span> <span class="s1">&#39;MyAgent*&#39;</span><span class="p">).</span><span class="n">Count</span> <span class="p">|</span> <span class="n">Should</span> <span class="n">-Be</span> <span class="n">0</span>
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="p">}</span>
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="n">And</span> <span class="s1">&#39;the service should be running&#39;</span> <span class="p">{</span>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="p">@(</span><span class="nb">Get-Service</span> <span class="s1">&#39;MyAgent*&#39;</span> <span class="p">|</span> <span class="nb">Where-Object</span> <span class="n">Status</span> <span class="o">-eq</span> <span class="s1">&#39;Running&#39;</span><span class="p">).</span><span class="n">Count</span> <span class="p">|</span> <span class="n">Should</span> <span class="n">-Be</span> <span class="n">0</span>
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="p">}</span>
</code></pre></div>
<p>Now that I wrote this, I could simply run:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">Invoke-Gherkin</span> <span class="n">-Path</span> <span class="n">InstallFancyLoggingVendor</span><span class="p">.</span><span class="n">steps</span><span class="p">.</span><span class="n">ps1</span>
</code></pre></div>
<p>This would run all the steps from a feature file and ensure I'm able to repeat these tests after any change to confirm they work.</p>
<h3 id="other-great-use-cases"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#other-great-use-cases">Other Great Use Cases</a></h3>
<p>I've leveraged this to validate SQL Server configuration changes on a new AWS RDS Deployment, validate build steps completed successfully, tested file paths existing, and more. I really like how you can have this all integrated in a nice UI by uploading the nunit tests in Azure DevOps pipelines too.</p>
<h3 id="start-small"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#start-small">Start Small</a></h3>
<p>Take a look at the simple Pester syntax examples or the gherkin examples I gave and use that to do anything you keep having to check more than a few times. You'll find your efforts rewarded by having more consistent testing and probably save quite a bit of effort as well.</p>
<h3 id="helped"><a class="toclink" href="../../../using-pester-to-improve-operational-tasks/#helped">Helped?</a></h3>
<p>If you found these concepts helpful and would like an example of using Pester to test SQL Server login authentication, user group assignment, and more, let me know. I've done SQL Server pester tests using traditional Pester syntax that would validate maintenance solution deployment, login mapping, and more. If this was valuable, I could do a write-up of this.</p>
<p>If you also would like more fundamentals, I'd be willing to do a basic Pester write-up for an operational focused task that is ground zero too, just depends if you the reader find this helpful.</p>
<p>Comments always appreciated if this helped you! Let's me know it's actually helping someone out and always great to connect with others. 🍻</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-04-20 00:00:00">April 20, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="improved-windows-terminal-setup"><a class="toclink" href="../../../improved-windows-terminal-setup/">Improved Windows Terminal Setup</a></h2>
<p>I've long been a Cmder/ConEmu user for Windows as it's provided a much-needed improvement of the standard Windows terminal.</p>
<p>I've started trying to use the newer Windows Terminal project to benefit from the improved performance and support, and found getting it up and running with any customizations was a little time consuming and confusing. This wasn't something I'd hand off to someone who wasn't looking for experimentation.</p>
<p>So here it goes! Rather than hunting all around to get a nice start on some default prompts, I've linked to some gists that can help you get up and running quickly with a few extra perks.</p>
<h3 id="getting-started"><a class="toclink" href="../../../improved-windows-terminal-setup/#getting-started">Getting Started</a></h3>
<p>This will help you get the terminal installed, along with downloading some settings I've already pre-setup with keybindings and more.</p>
<p>To customize your own keybindings, you can go to the <a href="https://github.com/microsoft/terminal/blob/master/doc/cascadia/SettingsSchema.md">profiles.json</a> documentation.</p>
<p>{{&lt; gist sheldonhull  "93d8060e6f86e0c46535ef6699d6e0c8" "install-settings.ps1" &gt;}}</p>
<h3 id="improve-your-experience"><a class="toclink" href="../../../improved-windows-terminal-setup/#improve-your-experience">Improve Your Experience</a></h3>
<p>After install, you can run the next command to help you get a better font setup with full support for ligatures and more.</p>
<p>{{&lt; gist sheldonhull  "93d8060e6f86e0c46535ef6699d6e0c8" "install-font.ps1" &gt;}}</p>
<p>And after this, if you don't have a nice PowerShell prompt experience, this will help give you a great start. This contains a few things, including <a href="https://starship.rs">starship</a>. This is really useful as it has a library of prompt enhancements baked in. For example, if you are have an AWS profile active, it will display that for reference. It can display an active terraform workspace, git branch info, python virtual environment and more. Definitely a nice quick productivity booster with no real configuration needed to get going.</p>
<p>{{&lt; gist sheldonhull  "93d8060e6f86e0c46535ef6699d6e0c8" "configure-profile-prompt.ps1" &gt;}}</p>
<p>If you are wondering why I didn't leave the pretty awesome <code>"useAcrylic": true</code> on for my main pwsh session, it's because I found the background contrast reduction made it hard to read some darker colors on the prompt.</p>
<p>Be sure to try out the retro pwsh theme for some nice eye candy.</p>
<h3 id="the-result"><a class="toclink" href="../../../improved-windows-terminal-setup/#the-result">The result</a></h3>
<p>PowerShell Protip: Note the suggested completion based on prior commands in the pwsh prompt. This is some great prerelease work on a better PSReadline experience with Powershell.</p>
<p><img alt="image of windows terminal" src="../../images/windows-terminal-01.png" /></p>
<p><img alt="images of windows terminal" src="../../images/windows-terminal-02.png" /></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-04-05 00:00:00">April 5, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              8 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/">A Smattering of Thoughts About Applying Site Reliability Engineering principles</a></h2>
<h3 id="whats-this-about"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#whats-this-about">What's This about</a></h3>
<p>I figured I'd go ahead and take this article which I've gutted several times and share some thoughts, even if it's not an authority on the topic. 😀</p>
<p>In the last year, I've been interested in exploring the DevOps philosophy as it applies to operations as well as software development. I originally started various drafts on these concepts back before April 2019, but never got around to finishing it until now.</p>
<p>This isn't a very focused post, more a smattering of thoughts, so let's get to it! 💪</p>
<h3 id="devops-is-a-challenge"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#devops-is-a-challenge">DevOps Is A Challenge</a></h3>
<p>Having come from a development background, applying DevOps to the operational side of the fence is an interesting challenge.</p>
<p>There are so many things that can be unique to the evolving way a team you are part of is growing and learning, that it can be difficult sometimes to know what is "best practice" and was is "essential practice" in a DevOps culture.</p>
<ul>
<li>What does it mean to plan and scale your workflow in a DevOps culture?</li>
<li>How do operational stability and the pressure for new feature delivery in a competitive market meet in a healthy tension?</li>
<li>How do you do "everything-as-code" in practice?</li>
<li>Lots more!</li>
</ul>
<p>There are various ways to implement DevOps, and core principles to DevOps.
I've found that one that really resonated with me as I've looked for how others have done this.</p>
<h3 id="site-reliability-engineering"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#site-reliability-engineering">Site Reliability Engineering</a></h3>
<p>Google's Site Reliability Engineering (SRE) material provides a solid guide on the implementation of SRE teams.
They consider SRE and DevOps in a similar relationship to how Agile views Scrum.
Scrum is an implementation of Agile tenants.
Site Reliability Engineering is an implementation of a DevOps culture, with guidelines on how to approach this in a systematic way.</p>
<blockquote>
<p>If you think of DevOps like an interface in a programming language, class SRE implements DevOps. <a href="http://bit.ly/36R2F5r">Google SRE</a></p>
</blockquote>
<p>What I like about the material, is that a lot of the fixes I've considered to improvements in workflow and planning have been thoughtfully answered in their guide, since it's a specific implementation rather than a broader philosophy with less specific steps.</p>
<p>Regardless of where you are in your journey, a lot of the principles have much to offer.
Even smaller organizations can benefit from many of these concepts, with various adjustments being made to account for the capabilities of the business.</p>
<h4 id="recommended-sre-reading"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#recommended-sre-reading">Recommended SRE Reading</a></h4>
<p>Recommended reading if this interests you:</p>
<table>
<thead>
<tr>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://bit.ly/2GPnJ1O">Deploys: It’s Not Actually About Fridays – charity.wtf</a></td>
</tr>
<tr>
<td><a href="https://web.devopstopologies.com/">DevOps Topologies</a></td>
</tr>
<tr>
<td><a href="http://bit.ly/2tna4fb">Do you have an SRE team yet? How to start and assess your journey</a></td>
</tr>
<tr>
<td><a href="http://bit.ly/2RP2zqT">Google - Site Reliability Engineering</a></td>
</tr>
<tr>
<td><a href="http://bit.ly/2GMw1HR">Love (and Alerting) in the Time of Cholera (and Observability) – charity.wtf</a></td>
</tr>
</tbody>
</table>
<h3 id="where-i-started"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#where-i-started">Where I Started</a></h3>
<p>At the beginning of my tech career, I worked at a place that the word "spec" or "requirement" was considered unreasonable. Acceptance criteria would have been looked down upon, as something too formal and wasteful.</p>
<p>While moving towards to implementation of any new project, I was expected to gather the requirements, build the solution, ensure quality and testing, and deploy to production.
That "cradle to grave" approach done correctly can promote the DevOps principles, such as ensuring rapid feedback from the end-users and ownership from creation through to production.</p>
<h3 id="a-different-take"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#a-different-take">A Different Take</a></h3>
<p>I've been in a somewhat interesting blend of roles that gives me some insight into this.
As a developer, I always look at things from an 🤖 automation &amp; coding perspective.
It's the exception, rather than the norm for me to do it manually without any type of way to reproduce via code.</p>
<p>I've also been part of a team that did some automation for various tasks in a variety of ways, yet often resolved issues via manual interactions due to the time constraints and pressures of inflowing work.
Building out integration tests, code unit tests, or any other automated testing was a nice idea in theory, but allocating time to slow down and refactor for automated testing on code, deployments, and other tasks were often deemed too costly or time prohibitive to pursue, in addition to requiring a totally different skillset to focus on.</p>
<p>For example, you can't write code based tests against a deployment, unless you have made the time and effort to learn to code in that language and work through the pain of discovery in writing integration oriented tests.
It's not a simple feat 🦶 to just pick up a language and start writing tests in it if you've never done this before.</p>
<h4 id="reactive"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#reactive">Reactive</a></h4>
<p>Reactive work also challenges DevOps focused teams that do operational work.</p>
<ul>
<li>Difficult to categorize emergency from something that could be done in a few weeks</li>
<li>Difficult to deliver on a set of fully completed tasks in a sprint (if you even do a sprint)</li>
<li>High interrupt ratio for request-driven work instead of able to put into a sprint with planning. (This is common in a DevOps dedicated team topology that is in some of the Anti-Types mentioned in <a href="https://web.devopstopologies.com/">DevOps Anti-Type topologies</a>)</li>
<li>Sprint items in progress tend to stay there for more than a few days due to the constant interruptions or unplanned work items that get put on their plate.</li>
<li>Unplanned work items are constant, going above the 25% buffer normally put into a sprint team.</li>
<li>Continued feature delivery pressure without the ability to invest in resiliency of the system.</li>
</ul>
<p>Google has a lot more detail on the principles of "on-call" rotation work compared to project-oriented work. <a href="https://landing.google.com/sre/sre-book/chapters/being-on-call/">Life of An On-Call Engineer</a>.
Of particular relevance is mention of capping the time that Site Reliability Engineers spend on purely operational work to 50% to ensure the other time is spent building solutions to impact the automation and service reliability in a proactive, rather than reactive manner.</p>
<p>In addition, the challenges of operational reactive work and getting in the zone on solving project work with code can limit the ability to address the toil of continual fixes. Google's SRE Handbook also addresses this in mentioning that you should definitely not mix operational work and project work on the same person at the same time. Instead whoever is on call for that reactive work should focus fully on that, and not try to do project work at the same time.
Trying to do both results in frustration and fragmentation in their effort.</p>
<p>This is refreshing, as I known I've felt the pressure of needing to deliver a project, yet feeling that pressure of reactive work with operational issues taking precedence.</p>
<p>It's important to recognize the importance of that operational work.
It helps ensure a team is delivering what is most important to a business, a happy customer base!
At the same time, always living in the reactive world can easily cause the project related work and reliability improvements that will support those efforts to suffer if a intentional plan to handle this is not made.</p>
<h3 id="reducing-toil"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#reducing-toil">Reducing Toil</a></h3>
<p>I've always been focused on building resilient systems, sometimes to my own detriment velocity wise.
Balancing the momentum of delivery features and improving reliability is always a tough issue to tackle.
Automation isn't free.
It requires effort and time to do correctly.
This investment can help scaling up what a team can handle, but requires slower velocity initially to do it right.</p>
<p>How do you balance automating and coding solutions to manual fixes, when you often can't know the future changes in priority?</p>
<h4 id="it-can-be-applied-to-immediate-needs"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#it-can-be-applied-to-immediate-needs">It can be applied to immediate needs</a></h4>
<p>A leader I've worked with mentioned one great way is to ensure whatever solution you build is immediately applicable to solving work in progress. By this, he meant work that could immediately benefit a team, rather than building things for future possibilities that haven't yet come into play.
This aligns with a LEAN mentality and there is a lot to like about it.</p>
<h4 id="it-solves-an-immediate-pain"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#it-solves-an-immediate-pain">It solves an immediate pain</a></h4>
<p>Another way I've begun looking at this is solving the key pain-points that are mentioned by others.
I tend to look at many improvements, and it can be difficult to choose what area to tackle at times, as I can see value in many of them.</p>
<p>However, solving paint points that are directly impacting someone enough that they are asking for help should take precedence in many cases (not all).</p>
<p>Why? This pain-point solved gains you an immediate win.</p>
<p>If you are solving an issue that others are ok with, or don't recognize as an issue, then you have an uphill battle for adoption compared to solving something immediately impacting their work.
This doesn't negate addressing problems that others have not yet recognized, it is just something that's become clear can help in moving forward with improvements with less resistance.</p>
<h4 id="last-priority-solving-problems-no-one-yet-knows-they-need-solved"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#last-priority-solving-problems-no-one-yet-knows-they-need-solved">Last Priority - Solving Problems No One Yet Knows They Need Solved</a></h4>
<p>There is an important caveat to all of this.
There is a realm of problems when you have expertise in an area that you will identify that others don't see.
When assessed against goals of a business, these can be critical.</p>
<p>In my experience, the only way for these identified issues to be clearly prioritized is having a strong ability to communicate the problem and design some clear objectives to place this into the team backlog to address.</p>
<p>Verbally communicating, while important, won't have any staying power compared to a clearly defined objective in a backlog and advocated for in a presentation that helps raise concern for the same issue you care about.</p>
<p>They key is that your signal-to-noise-ratio is good, and when you raise the concern about the issue others don't have to work hard to understand why it's a problem.</p>
<h4 id="how-to-balance-product-vs-reliability-improvements"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#how-to-balance-product-vs-reliability-improvements">How to balance product vs reliability improvements</a></h4>
<p>SREs balance the juggling of product velocity and reliability improvements in a unique way... the usage of SLO and the error budget concept.</p>
<h3 id="slo-error-budgets"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#slo-error-budgets">SLO &amp; Error Budgets</a></h3>
<p>The concepts of having an error budget really struct home for me. Clear Service Level Objectives (SLO) and error budgets to work with helps ensure both the development velocity and stability desired by operations is handled correctly.</p>
<p>Error budgets provide the key ingredient to balancing new feature delivery, while still ensuring happy customers with a stable system.</p>
<p>One of the best sections I've read on this was: <a href="http://bit.ly/2UfsA4l">Embracing Risk</a>.</p>
<p>Error budgets are discussed, and internal SLI (Server Level Indicators).
These are integral to ensuring a balance of engineering effort in balance with new feature delivery.
The goal of 100% reliability, while sounding great, is inherently unrealistic.</p>
<blockquote>
<p>Product development performance is largely evaluated on product velocity, which creates an incentive to push new code as quickly as possible. Meanwhile, SRE performance is (unsurprisingly) evaluated based upon the reliability of a service, which implies an incentive to push back against a high rate of change. Information asymmetry between the two teams further amplifies this inherent tension.</p>
</blockquote>
<h3 id="wrap-up"><a class="toclink" href="../../../a-smattering-of-thoughts-about-applying-site-reliability-engineering-principles/#wrap-up">Wrap Up</a></h3>
<p>I've been mulling over this for a while, and find a lot of the concepts very helpful as I've been challenged with both operational and development focus.
As always, these are personal thoughts and don't reflect the opinion of my employer. I hope it gives you some food for thought. If you have some feedback, just post up a comment and let's dialogue!</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-26 00:00:00">February 26, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              2 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="quickly-create-github-release-via-cli"><a class="toclink" href="../../../quickly-create-github-release-via-cli/">Quickly Create Github Release via Cli</a></h2>
<h3 id="intro"><a class="toclink" href="../../../quickly-create-github-release-via-cli/#intro">Intro</a></h3>
<p>I've been trying to improve modularization with Terraform.
Using Terraform Cloud, you get a private module repository.
The modules are linked to tags in git.</p>
<p>I've wanted additionally to specifically create releases for the versions in addition to the tags, to make tracking of usable versions a little cleaner.</p>
<p>There are several ways to do this, including using the GitHub API, npm modules, and more.
I wanted a simple CLI tool to do this and ran across this great Go utility that worked seamlessly for me.</p>
<p>I've used the <a href="http://bit.ly/2w1fZYu">Hub cli</a> but the create release syntax never really worked for me.</p>
<h3 id="github-release"><a class="toclink" href="../../../quickly-create-github-release-via-cli/#github-release">github-release</a></h3>
<p><a href="http://bit.ly/32qoDM9">Github-release</a> is a simple golang cli that worked great for me.
Note that this is a fork.
This fork is more up to date than the original.</p>
<p>With go installed just run this to get it installed and available in <code>PATH</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">go</span> <span class="n">get</span> <span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">itchio</span><span class="p">/</span><span class="n">gothub</span>
</code></pre></div>
<p>To simplify GitHub access, ensure you set an environment variable for your user called GITHUB_TOKEN.</p>
<p>With PowerShell you can do it quickly like this (you might need to close and reopen vscode/terminal for this to be recognized)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>    <span class="no">[System.Environment]</span><span class="p">::</span><span class="n">SetEnvironmentVariable</span><span class="p">(</span><span class="s1">&#39;GITHUB_TOKEN&#39;</span><span class="p">,</span><span class="s1">&#39;tokenhere&#39;</span><span class="p">,</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="usage"><a class="toclink" href="../../../quickly-create-github-release-via-cli/#usage">Usage</a></h3>
<p>To use this, you can chain together some steps and see how it can save you time on creating a GitHub release.</p>
<p>{{&lt; gist sheldonhull  "53055bbff368a4ebe4e0794076a56c37" &gt;}}</p>
<p>This helped me get moving faster ⚡ on using Github releases without the tedious work to create.
If this helped you or have any feedback, drop a comment below and let me know!
The comments are powered by Utterances which will open a Github issue to discuss further. 👍</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-14 00:00:00">February 14, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="asciidoc-distributed-docs-as-code"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/">Asciidoc Distributed Docs as Code</a></h2>
<h3 id="the-problem"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#the-problem">The Problem</a></h3>
<ul>
<li>I want to keep my code and my documentation in the same place.</li>
<li>I want to separate the presentation layer from my documentation content.</li>
<li>I want to be flexible to publish documentation to a variety of endpoints and formats as processes evolve, without my content being impacted.</li>
<li>I want to write a solid runbook for things that can't be fully automated, but still include scripts and other code in their native format.</li>
</ul>
<p>Documentation is such an important part of a developer's life. I think we often take it for granted, and it's an afterthought in many projects.
However, as I consider my work, I know that I'm not reinventing the wheel very often 😀.
Most of what I do is built on the back of others' work.
When I use tooling, I'm reading the documentation and using it as my basis to get work done.
When I use my notes and blog posts as a reference, I'm using my informal version of knowledge gathering.</p>
<p><em>INVEST</em> in documenting your work as you go, for the person behind you.
You don't find time to do it, you make time to do it while you work, as a first class citizen of your work, not an after-thought.
Think of all the times you've had to dig for answers and save someone else that experience.</p>
<blockquote>
<p>You code and document not as much for yourself, but for the person that comes behind you.</p>
</blockquote>
<h3 id="asciidoctor"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#asciidoctor">Asciidoctor</a></h3>
<p>I've found a happy solution in the Asciidoctor documentation format over markdown.
You can go google this for more expanded understanding, but I've decided that other than for basic notes and blog posts which are very simplistic, I now choose Asciidoctor.</p>
<p>Why use Asciidoc format over markdown comes down to the needs of technical documentation.</p>
<p>Here are some key reasons why I've found Asciidoc format to be worth learning:</p>
<ul>
<li>I can reference code files with a simple <code>include::file[]</code> statement, while markdown would require me to embed my code directly as a code block.</li>
<li>I can generate a table from a csv file, further helping me automate a refresh of the underlying data that is rendered to a table display</li>
<li>I can create tables much more cleanly and with control than in markdown, even allowing nested tables for complicated process documentation.</li>
<li>Automatic admonition callouts without extensions using simple statements like <code>IMPORTANT: foo</code></li>
</ul>
<h3 id="presentation"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#presentation">Presentation</a></h3>
<p>Since the common documentation system used where I am at is Confluence, I decided to leverage the incredible confluence-publisher project that made this entire process a breeze.
Check the repo and the linked documentation out here: <a href="http://bit.ly/2Soy1ML">Confluence Publisher</a></p>
<p>In the future, if I didn't use confluence, I'd explore rendering as a static website through Hugo (that's what this site is generated from) or revisit Antora and maybe merge my content into the format required by Atora programmatically.</p>
<h3 id="use-docker"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#use-docker">Use Docker</a></h3>
<p>Since Asciidoc is written in Ruby, use docker and you won't have to deal with dependency nightmares, especially on Windows.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nv">$RepoDirectoryName</span> <span class="p">=</span> <span class="s1">&#39;taco-ops-docs&#39;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nb">echo </span><span class="s2">&quot;🌮🌮🌮🌮🌮🌮🌮🌮🌮🌮🌮🌮🌮&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">echo </span><span class="s2">&quot;Running confluence publisher 🌮&quot;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="nb">echo </span><span class="s2">&quot;📃 Publishing $RepoDirectoryName repo contents&quot;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">docker</span> <span class="n">run</span> <span class="p">-</span><span class="n">-rm</span> <span class="n">-v</span> <span class="nv">$BUILD_SOURCESDIRECTORY</span><span class="p">/</span><span class="nv">$RepoDirectoryName</span><span class="p">/</span><span class="n">docs</span><span class="p">:/</span><span class="n">var</span><span class="p">/</span><span class="n">asciidoc-root-folder</span> <span class="n">-e</span> <span class="n">ROOT_CONFLUENCE_URL</span><span class="p">=</span><span class="nv">$ROOT_CONFLUENCE_URL</span> <span class="p">\</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="n">-e</span> <span class="n">SKIP_SSL_VERIFICATION</span><span class="p">=</span><span class="n">false</span> <span class="p">\</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="n">-e</span> <span class="n">USERNAME</span><span class="p">=</span><span class="nv">$USERNAME</span> <span class="p">\</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">-e</span> <span class="n">PASSWORD</span><span class="p">=</span><span class="nv">$PASSWORD</span> <span class="p">\</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="n">-e</span> <span class="n">SPACE_KEY</span><span class="p">=</span><span class="nv">$SPACE_KEY</span> <span class="p">\</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="n">-e</span> <span class="n">ANCESTOR_ID</span><span class="p">=</span><span class="nv">$ANCESTOR_ID</span> <span class="p">\</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="n">-e</span> <span class="n">PUBLISHING_STRATEGY</span><span class="p">=</span><span class="nv">$PUBLISHING_STRATEGY</span> <span class="p">\</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="n">confluencepublisher</span><span class="p">/</span><span class="n">confluence-publisher</span><span class="p">:</span><span class="n">0</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">0-SNAPSHOT</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="nb">echo </span><span class="s2">&quot;📃 Publishing $RepoDirectoryName repo contents finished&quot;</span>
</code></pre></div>
<p>Yes... I know. I get bored reading log messages when debugging so my new year premise was to add some emoji for variety.
Don't judge. 😁</p>
<h3 id="distributed-docs-structure"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#distributed-docs-structure">Distributed Docs Structure</a></h3>
<p>So the above approach is fantastic for a single repo.
I wanted to take it to a different level by solving this problem for distributed documentation.
By distributed I meant that instead of containing all the documentation in a single "wiki" style repo, I wanted to grab documentation from the repositories I choose and render it.
This would allow the documentation related to being contained in the repository it is related to.</p>
<p>For instance, what if I wanted to render the documentation in the following structure:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>** General Documentation**
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>taco-ops-runbook
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>---&gt; building-tacos
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>--------&gt; topic.adoc
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>---&gt; eating-tacos
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>--------&gt; topic.adoc
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>---&gt; taco-policies
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>--------&gt; topic.adoc
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>---&gt; taco-as-code
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>--------&gt; topic.adoc
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>** Repo Oriented Documentation**
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>github-repos
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>---&gt; taco-migration
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>--------&gt; category-1
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>------------&gt; topic.adoc
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>------------&gt; topic.adoc
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>--------&gt; category-2
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>------------&gt; topic.adoc
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>------------&gt; topic.adoc
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>---&gt; taco-monitoring
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>--------&gt; category-1
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>------------&gt; topic.adoc
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>------------&gt; topic.adoc
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>--------&gt; category-2
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>------------&gt; topic.adoc
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>------------&gt; topic.adoc
</code></pre></div>
<p>The only current solution found was <a href="http://bit.ly/2SO0ZoC">Antora</a>.
Antora is very promising and great for more disciplined documentation approaches by software development teams.
The limitation I faced was complexity and rigidity in structure.
For Antora to generate a beautiful documentation site, you have to ensure the documentation is structured in a much more complex format.
For example, the docs might be under <code>docs/modules/ROOT/pages/doc.adoc</code> and have a <code>nav.adoc</code> file as well.
While this promises a solid solution, retrofitting or expecting adoption might be tricky if your team has never even done markdown.</p>
<h3 id="azure-devops-pipeline"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#azure-devops-pipeline">Azure DevOps Pipeline</a></h3>
<p>I ended using an Azure DevOps pipeline (YAML of course 🤘) that provides a nice easy way to get this done.</p>
<p>First, for proper linking, you should follow the directions Azure DevOps gives on the creation of a <a href="http://bit.ly/2UNWWel">Github Service Connection</a> which uses OAUTH.
This will ensure your setup isn't brittle and using your access token.</p>
<p>{{&lt; gist sheldonhull  "053cb176d5c2847a4e323f01207acb82" &gt;}}</p>
<h3 id="things-to-know"><a class="toclink" href="../../../asciidoc-distributed-docs-as-code/#things-to-know">Things to Know</a></h3>
<ul>
<li>Ensure you use the format shown here for documentation to render in confluence correctly. You need to have the names match in the doc/folder for it to know to render the child pages.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>** Repo Oriented Documentation**
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>taco-ops-repo
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>README.adoc  -- optional, but I always include for landing page, and point to the docs folder using link:./docs/myrepo.adoc
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>---&gt; [docs]
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>------&gt; [resources]  -- optional, but keeps the scripts organized and consistent, or any images
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>------&gt; process.adoc
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>------&gt; another-process.adoc
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>---&gt; taco-ops-repo.adoc
</code></pre></div>
<ul>
<li>Include your scripts by using <code>include::./resources/_myscript.ps1[]</code>. You may have to test that relative path issue if doing multiple repos.</li>
<li>Ensure your non-asciidoc contents are prefaced with an underscore in the title name. I don't like this, but it's a requirement from confluence-publisher. This ensures it won't try to render as a page.</li>
<li>Anything in the target directory (ancestor) gets purged in the process. I recommend a dedicated confluence space you create just for this to minimize risk and disable manual edits.</li>
</ul>
<p>{{&lt; admonition type="info" title="Docker Commands in Microsoft-Hosted Agent" &gt;}}
I didn't expect docker commands to work in Azure DevOps agent, thinking nested virtualization would not work and all. However, it works beautifully. Consider using Azure DevOps yaml pipelines for running your docker commands and you take one step towards better build processes.
{{&lt; /admonition &gt;}}</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-01-16 00:00:00">January 16, 2020</time></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="running-sql-server-in-docker"><a class="toclink" href="../../../running-sql-server-in-docker/">Running SQL Server in Docker</a></h2>
<p>{{&lt; admonition type="info" title="Updated 2020-05-05" &gt;}}</p>
<p>I've had lots of challenges in getting docker for sql-server working because I've wanted to ensure for my dev use case that there was no need for virtual volume management and copying files into and out of this. Instead, I've wanted to bind to local windows paths and have it drop all the mdf/ldf right there, so even on container destruction everything is good to go.</p>
<p>After working through the changes in SQL 2019 that require running as non-root, I've gotten it work again. No install of sql-server needed. Easy disposable development instance through docker! I'll update my docker compose content when I can, but in the meantime, this should get you running even more quickly with SQL Server 2019.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">docker</span> <span class="n">run</span> <span class="p">`</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="p">-</span><span class="n">-name</span> <span class="n">SQL19</span> <span class="p">`</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">-p</span> <span class="n">1433</span><span class="p">:</span><span class="n">1433</span> <span class="p">`</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="n">-e</span> <span class="s2">&quot;ACCEPT_EULA=Y&quot;</span> <span class="p">`</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="n">-e</span> <span class="s2">&quot;MSSQL_SA_PASSWORD=ThisIsNotARealPassword@!1}&quot;</span> <span class="p">`</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="n">-v</span> <span class="n">C</span><span class="p">:\</span><span class="n">mssql</span><span class="p">\</span><span class="n">SQL19</span><span class="p">:/</span><span class="n">sql</span> <span class="p">`</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="n">-d</span> <span class="n">mcr</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">mssql</span><span class="p">/</span><span class="n">server</span><span class="p">:</span><span class="n">2019-latest</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="n">docker</span> <span class="n">run</span> <span class="p">`</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    <span class="p">-</span><span class="n">-name</span> <span class="n">SQL19WithSpaces</span> <span class="p">`</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    <span class="n">-p</span> <span class="n">1434</span><span class="p">:</span><span class="n">1433</span> <span class="p">`</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    <span class="n">-e</span> <span class="s2">&quot;ACCEPT_EULA=Y&quot;</span> <span class="p">`</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>    <span class="n">-e</span> <span class="s2">&quot;MSSQL_SA_PASSWORD=ThisIsNotARealPassword@!1}&quot;</span> <span class="p">`</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>    <span class="n">-v</span> <span class="n">C</span><span class="p">:\</span><span class="n">mssql</span><span class="p">\</span><span class="n">SQL19WithSpaces</span><span class="p">:/</span><span class="n">sql</span> <span class="p">`</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>    <span class="n">-d</span> <span class="n">mcr</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">mssql</span><span class="p">/</span><span class="n">server</span><span class="p">:</span><span class="n">2019-latest</span>
</code></pre></div>
<p>{{&lt; /admonition &gt;}}</p>
<h3 id="why-use-docker-for-mssql"><a class="toclink" href="../../../running-sql-server-in-docker/#why-use-docker-for-mssql">Why Use Docker for MSSQL</a></h3>
<p>Say you have an onboarding and need to get a new developer up to speed. Have you gone through the setup process for SQL Server on Windows? It's a bit tedious and even with running scripts to install (or in my case I wrapped up with Chocolatey), it's still a lot of things you need, including possibly a reboot if missing some .net dependencies.</p>
<p>The normal solution is to leverage more localdb for quickly deploying and isolating the database.</p>
<p>This has its own set of challenges that personally I like to avoid. Localdb is more isolated, but it's not truly like running a local SQL Server standard edition, and debugging permissions, sharing, and other things can with its own set of steps to work through. I've seen it common for many devs to just avoid these issues and run a local SQL Server installation to just simplify and work with SQL Server as it's expected to be.</p>
<p>I'd explored Docker SQL Server containers in the past, but one big issue for adoption to me was the issues I had mounting the local Windows folders to the Linux based container. ❓ Why is this important? Ease of usage for a developer. If I proposed this would save effort to many developers working with SQL Server, I'm pretty sure telling them that they'd have to copy a backup or database file in via CLI to a virtual mounted drive that they can't easily manage would be a deal-breaker. I basically wanted to ensure if they spun up SQL Server in a container, the database backups, mdf and ldf files, and any other created files would be able to persist outside of that instance, ensuring easy development workflow.</p>
<p>I'm happy to say I finally have it working to my satisfaction, resolving most of those concerns.</p>
<h3 id="scenarios-this-is-good-for"><a class="toclink" href="../../../running-sql-server-in-docker/#scenarios-this-is-good-for">Scenarios This is Good For</a></h3>
<p>If you've desired to do the following, then using Docker might end up saving you some effort.</p>
<ul>
<li>simplify the setup of a new SQL Server instance</li>
<li>be able to reset your SQL Server instance to allow testing some setup in isolation</li>
<li>be able to switch SQL Server editions to match a new requirement</li>
<li>be able to upgrade or patch to a later version of SQL Server with minimal effort</li>
</ul>
<p>This is not for production. There's more effort and debate that goes on to using SQL Server in containers, Kubernetes (even more complex!), and other containerization approaches that are far outside the scope of what I'm looking at. This is first and foremost focused on ensuring a development workflow that reduces complexity for a developer and increases the ease at which SQL Server testing can be implemented by making the SQL Server instance easily disposed of and recreated.</p>
<p>If this also means I spread some 🐧 Linux magic to some Windows stack developers... then count it as a sneaky win. 😏</p>
<h3 id="sql-server-on-linux-or-windows-containers"><a class="toclink" href="../../../running-sql-server-in-docker/#sql-server-on-linux-or-windows-containers">SQL Server on Linux or Windows containers</a></h3>
<p>The following example is done with SQL Server on Linux. As I'm already comfortable with SQL Server on Windows, I wanted to be try this on Linux based container. I also wanted to continue using Linux based containers for tooling, and not have to switch back to Windows containers for the sole purpose of running SQL Server. At the time I began this testing, I found it was exclusive. You either ran Linux or Windows-based containers. This is changing with the advent of new features in Docker that are there to allow side by side Windows + Linux based containers.</p>
<p>Release notes indicate:</p>
<blockquote>
<p>Experimental feature: LCOW containers can now be run next to Windows containers (on Windows RS3 build 16299 and later). Use --platform=linux in Windows container mode to run Linux Containers On Windows. Note that LCOW is experimental; it requires the daemon experimental option. <a href="https://docs.docker.com/docker-for-windows/release-notes/">Docker Community Edition 18.03.0-ce-win59 2018-03-26</a></p>
</blockquote>
<p>The main difference in your local development process will be Windows Authentication vs SQL Authentication. Use SQL Authentication with Linux based SQL Server</p>
<h3 id="docker-compose-example"><a class="toclink" href="../../../running-sql-server-in-docker/#docker-compose-example">Docker Compose Example</a></h3>
<p>The following is the result of a lot of trial and error over a year. Thanks to <a href="https://wsmelton.github.io/">Shawn Melton</a> 👏 also for providing me with support doing my troubleshooting as part of the SQL Server community in Slack. You can find Shawn's example I used as a starting point for my 🧪testing in <a href="https://gist.github.com/wsmelton/7cce0f6930bb3e60c2dfacc7cf174ccf">this gist.</a></p>
<p>A few helpful tips:</p>
<ol>
<li>Remove <code>-d</code> for detached and you can see the SQL Server console output in the console.</li>
<li>See the persisted databases (system and user!) in the artifacts directory after docker-compose begins running.</li>
</ol>
<p>{{&lt; gist sheldonhull  a70a3a731b329b67f47a331c64c72ab5 &gt;}}</p>
<h3 id="improving-code-tests"><a class="toclink" href="../../../running-sql-server-in-docker/#improving-code-tests">Improving Code Tests</a></h3>
<p>Another reason I'm really excited about is the ability to better support testing through tools like Pester. Yes, it's a geek thing, but I love a solid written test 🧪that maintains my code and helps me ensure quality with changes. Better TDD is a goal of mine for sure.</p>
<p>🔨 This supports implementation of better tests by providing the potential for spinning up a local SQL Instance, restoring a test database, and running a sequence of actions against it with pass or fail without the additional infrastructure requirements to have this done on another server. Making your tests that are not full integration testing as minimally dependent on external factors is a fantastic step to saving you a lot of work.</p>
<p>A simple pester (PowerShell) might frame the start of a test like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">Before</span> <span class="n">All</span> <span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    <span class="n">docker-compose</span> <span class="n">up</span> <span class="n">-d</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="nb">Import-Module</span> <span class="n">Dbatools</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>    <span class="c"># Wait Until dbatools confirms connectivity through something like test-dbaconnection, then proceed with tests</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="c"># Test-DbaConnection ....</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>    <span class="c"># Restore-DbaDatabase ...</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="p">}</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">After</span> <span class="n">All</span> <span class="p">{</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="n">docker-compose</span> <span class="n">down</span> <span class="p">-</span><span class="n">-volume</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="p">}</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="n">Describe</span> <span class="s2">&quot;DescribeName&quot;</span> <span class="p">{</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="n">Context</span> <span class="s2">&quot;ContextName&quot;</span> <span class="p">{</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        <span class="n">It</span> <span class="s2">&quot;ItName&quot;</span> <span class="p">{</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>            <span class="n">Assertion</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>        <span class="p">}</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>    <span class="p">}</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="p">}</span>
</code></pre></div>
<h3 id="wrap-up"><a class="toclink" href="../../../running-sql-server-in-docker/#wrap-up">Wrap Up</a></h3>
<p>Hope this helps someone. I spent at least a year coming back over time to this hoping to actually get it working in a way that felt like a first-class citizen and reduced complexity for development work.</p>
<p>I'm pretty happy with the results. 😁</p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <span class="md-pagination__dots">..</span> <a class="md-pagination__link" href="../6/">6</a> <a class="md-pagination__link" href="../7/">7</a> <span class="md-pagination__current">8</span>
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "toc.follow", "navigation.top", "navigation.path", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.4.0/dist/mermaid.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>